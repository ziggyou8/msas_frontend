/*! For license information please see main.31991145.chunk.js.LICENSE.txt */
(this.webpackJsonpmsas=this.webpackJsonpmsas||[]).push([[0],{136:function(e,t,s){"use strict";var c=s(2),n=s(20),i=(s(1),s(312),s(0)),a=["children","isGoogleSignIn"];t.a=function(e){var t=e.children,s=e.isGoogleSignIn,r=Object(n.a)(e,a);return Object(i.jsx)("button",Object(c.a)(Object(c.a)({className:"".concat(s?"google-sign-in":""," custom-button")},r),{},{children:t}))}},149:function(e,t,s){},280:function(e,t,s){},310:function(e,t,s){},311:function(e,t,s){},312:function(e,t,s){},313:function(e,t,s){},314:function(e,t,s){},315:function(e,t,s){},316:function(e,t,s){},317:function(e,t,s){},318:function(e,t,s){},319:function(e,t,s){},320:function(e,t,s){},321:function(e,t,s){},323:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),i=s(46),a=s.n(i),r=(s(149),s(2)),l=s(20),o=s(22),d=s(21),u=s(45),j=s(5),m=s.p+"static/media/exclamation.8a21e9ad.svg",b=s(6),h=s(0),p=function(){var e={labels:[10,30,39,20,25,34,0],datasets:[{label:"Dataset 1",data:[10,30,39,20,25,34,0],borderColor:"rgb(255, 132, 75)",backgroundColor:"rgb(255, 132, 75)"},{label:"Dataset 2",data:[18,33,22,19,11,39,30],borderColor:"rgb(111, 150, 170)",backgroundColor:"rgb(111, 150, 170)"}]};return Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ","Tableau de bord"]}),Object(h.jsxs)("button",{className:"btn btn-primary btn-sm text-white display btn-bar","data-toggle":"modal","data-target":"#exampleModal",children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.p,className:"mr-1"})}),"Ajouter un utilisateur"]})]})}),Object(h.jsxs)("div",{class:"container-fluid dash-content",children:[Object(h.jsxs)("div",{class:"row mb-4",children:[Object(h.jsx)("div",{class:"col-md-6 col-lg-4 mb-3",children:Object(h.jsxs)("div",{class:"un-stat-2 bg-light-primary p-3",children:[Object(h.jsx)("p",{class:"mb-3",children:"Montant total investi"}),Object(h.jsxs)("div",{class:"d-flex flex-wrap align-items-end justify-content-between",children:[Object(h.jsx)("span",{class:"number mb-2 d-block text-uppercase",children:"21 600 000 000 F.CFA"}),Object(h.jsx)("img",{src:"assets/images/credit-octroye.svg",alt:"",class:"icone"})]}),Object(h.jsxs)("a",{href:"#",class:"d-flex align-items-center text-muted",children:[Object(h.jsx)("img",{src:m,alt:"",class:"mr-2"}),Object(h.jsx)("span",{class:"details",children:"Voir d\xe9tails"})]})]})}),Object(h.jsx)("div",{class:"col-md-6 col-lg-4 mb-3",children:Object(h.jsxs)("div",{class:"un-stat-2 bg-light-primary p-3",children:[Object(h.jsx)("p",{class:"mb-3",children:"Lorem ipsum"}),Object(h.jsxs)("div",{class:"d-flex flex-wrap align-items-end justify-content-between",children:[Object(h.jsx)("span",{class:"number mb-2 d-block text-uppercase",children:"1 300 000 000 F.CFA"}),Object(h.jsx)("img",{src:"assets/images/credit-octroye.svg",alt:"",class:"icone"})]}),Object(h.jsxs)("a",{href:"#",class:"d-flex align-items-center text-muted",children:[Object(h.jsx)("img",{src:m,alt:"",class:"mr-2"}),Object(h.jsx)("span",{class:"details",children:"Voir d\xe9tails"})]})]})}),Object(h.jsx)("div",{class:"col-md-6 col-lg-4 mb-3",children:Object(h.jsxs)("div",{class:"un-stat-2 bg-light-primary p-3",children:[Object(h.jsx)("p",{class:"mb-3",children:"Lorem ipsum"}),Object(h.jsxs)("div",{class:"d-flex flex-wrap align-items-end justify-content-between",children:[Object(h.jsx)("span",{class:"number mb-2 d-block text-uppercase",children:"1 300 000 000 F.CFA"}),Object(h.jsx)("img",{src:"assets/images/credit-octroye.svg",alt:"",class:"icone"})]}),Object(h.jsxs)("a",{href:"#",class:"d-flex align-items-center text-muted",children:[Object(h.jsx)("img",{src:m,alt:"",class:"mr-2"}),Object(h.jsx)("span",{class:"details",children:"Voir d\xe9tails"})]})]})})]}),Object(h.jsxs)("div",{className:"row max-dash",children:[Object(h.jsx)("div",{className:"col-md-4 ps-0",children:Object(h.jsxs)("div",{className:"card card-stat mb-3 ",children:[Object(h.jsx)("p",{className:"fw-bold mobilisation ps-3 pt-3",children:"Statistique"}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(h.jsx)("div",{className:"mt-3 canvas",children:Object(h.jsx)("div",{id:"myChart",children:Object(h.jsx)(u.b,{data:{labels:["50%","45%"],datasets:[{label:"My First Dataset",data:[50,45,40],backgroundColor:["rgb(255, 132, 75)","rgb(111, 150, 170)","rgb(225, 232, 238)"],hoverOffset:4}]}})})}),Object(h.jsxs)("div",{className:"pourcent-stat pe-2",children:[Object(h.jsx)("p",{className:"text-center fw-bold fs-3",children:"75%"}),Object(h.jsxs)("p",{children:[" ","Lorem, ipsum. ",Object(h.jsx)("span",{children:"50%"})]}),Object(h.jsxs)("p",{children:[" ","Lorem, ipsum. ",Object(h.jsx)("span",{children:"45%"})]})]})]})]})}),Object(h.jsx)("div",{className:"col-md-5 ps-0",children:Object(h.jsxs)("div",{className:"card mb-3 card-stat ",children:[Object(h.jsx)("p",{className:"fw-bold mobilisation ps-3 pt-3",children:"Statistique"}),Object(h.jsx)("div",{className:"ps-3 pe-3",children:Object(h.jsx)("div",{id:"myChart2",style:{height:"100%"},children:Object(h.jsx)(u.c,{data:e,options:{responsive:!0,plugins:{title:{display:!0,text:""}},scales:{y:{suggestedMin:30,suggestedMax:50}}}})})})]})}),Object(h.jsx)("div",{className:"col-md-3 ps-0 pe-0",children:Object(h.jsxs)("div",{className:"card mb-3 card-stat ",children:[Object(h.jsx)("p",{className:"fw-bold mobilisation ps-3 pt-3",children:"Statistique"}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("div",{className:"ps-3 pe-3",id:"myChart3",width:"",children:Object(h.jsx)(u.a,{data:{labels:["","","","",""],datasets:[{label:"# of Votes",data:[19,5,12,23,9],backgroundColor:["rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)"],borderColor:["rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)","rgb(255, 132, 75)"],borderWidth:1}]}})})}),Object(h.jsxs)("div",{className:"d-flex justify-content-between align-items-center pt-4",children:[Object(h.jsx)("p",{className:"fw-bold mobilisation ps-3",children:"21 600 000 000 F.CFA"}),Object(h.jsx)("p",{className:"fw-bold mobilisation pe-3",children:"2021"})]})]})})]})]})]})},O=s(4),x=(s(91),s(13)),v=s(8),f=(s(68),s(27)),g=(s(69),s(40)),N=s.n(g),E=s(24),_=s(28),S=s.n(_),y=function(){return{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}},C="";C="http://176.31.107.205/msas_backend/public/api/v1/",S.a.interceptors.response.use((function(e){return e}),(function(e){throw e.response&&e.response.status&&401===e.response.status&&console.log(e),e}));var T,I=function(e){return S.a.get(C+e,{headers:y()})},w=function(e,t){return S.a.post(C+e,t,{headers:y()})},R=(S.a.put,function(e,t){return S.a.delete(C+e+"/"+t,{headers:y()})}),U=(S.a.patch,function(e,t){return S.a.post(C+e,t)}),F=function(e,t){return S.a.post(C+e,t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage.getItem("token")}})},A=function(e,t,s){return N()({title:'Etes vous s\xfbr de voulour supprimer "'.concat(s,'"?'),text:"La suppression sera d\xe9finitive!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(s){return s?(N()("Supprimer avce succ\xe9s",{icon:"success"}),R(e,t),!0):(N()("Suppression Annul\xe9e!"),!1)}))},L=function(e){return I(e)},M=function(e,t){return I("".concat(e,"/").concat(t))},k=function(e,t){return w(e,t)},D=function(e,t){return F(e,t)},V=function(e,t,s){return w("".concat(e,"/").concat(t,"?_method=PUT"),s)},B={GET_STRUCTURE_DATA:"GET_STRUCTURE_DATA",FETCH_STRUCTURE_BY_TYPE:"FETCH_STRUCTURE_BY_TYPE",GET_CURRENT_STRUCTURE:"GET_CURRENT_STRUCTURE",FETCH_STRUCTURE_BY_ID:"FETCH_STRUCTURE_BY_ID",FETCH_STRUCTURE_START:"FETCH_STRUCTURE_START",FETCH_STRUCTURE_SUCCESS:"FETCH_STRUCTURE_SUCCESS",FETCH_STRUCTURE_FAILLURE:"FETCH_STRUCTURE_FAILLURE",STORE_STRUCTURE_SUCCESS:"STORE_STRUCTURE_SUCCESS",UPDATE_STRUCTURE_SUCCESS:"UPDATE_STRUCTURE_SUCCESS",REMOVE_STRUCTURE_SUCCESS:"REMOVE_STRUCTURE_SUCCESS",RESET_EDITED_STRUCTURE:"RESET_EDITED_STRUCTURE"},P=function(){return{type:B.FETCH_STRUCTURE_START}},H=function(e){return{type:B.FETCH_STRUCTURE_FAILLURE,payload:e}},X=function(e){return{type:B.STORE_STRUCTURE_SUCCESS,payload:e}},q=function(){return{type:B.RESET_EDITED_STRUCTURE}},z=function(){return function(e){e(P()),L("structures").then((function(t){var s;e((s=t.data.data,{type:B.FETCH_STRUCTURE_SUCCESS,payload:s}))})).catch((function(t){e(H(t.message))}))}},Y=function(e){return function(t){t(P()),M("structures",e).then((function(e){t(function(e){return{type:B.FETCH_STRUCTURE_BY_ID,payload:e}}(e.data.data))})).catch((function(e){t(H(e.message))}))}},G=function(e){return function(t){t(P()),M("structures/type_acteur",e).then((function(e){t(function(e){return{type:B.FETCH_STRUCTURE_BY_TYPE,payload:e}}(e.data.data))})).catch((function(e){t(H(e.message))}))}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(s){s(P()),D("structures/".concat(e),t).then((function(e){s(X(e.data.data)),E.b.success(e.data.message,{position:"top-right",autoClose:5e3,className:"success-alert",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){E.b.error(e.response.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s(H(e.message))}))}},J=function(e,t){return function(s){s(P()),V("structures",e,t).then((function(e){var t;s((t=e.data.data,{type:B.UPDATE_STRUCTURE_SUCCESS,payload:t})),E.b.success("Modifi\xe9 avec succ\xe9s",{position:"top-right",autoClose:5e3,className:"success-alert",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){E.b.error("Error lors de l'ajout",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s(H(e.message))}))}},Z=function(e,t){return function(s){s(P()),A("structures",e,t).then((function(){s(function(e){return{type:B.REMOVE_STRUCTURE_SUCCESS,payload:e}}(e))})).catch((function(e){s(H(e.message))}))}},K=function(e){return e.structure},Q=Object(v.a)([K],(function(e){return e.structures})),W=Object(v.a)([K],(function(e){return e.structureById})),ee=Object(v.a)([K],(function(e){return e.messageError})),te=Object(v.a)([K],(function(e){return e.isFetching})),se=function(e){return e.user},ce=Object(v.a)([se],(function(e){return e.listUsers})),ne=Object(v.a)([se],(function(e){return e.currentUser})),ie=Object(v.a)([se],(function(e){return e.userById})),ae=Object(v.a)([se],(function(e){return e.isLoading})),re=function(e){return e.collectivite},le=Object(v.a)([re],(function(e){return e.collectivites})),oe=Object(v.a)([re],(function(e){return e.regions})),de=(Object(v.a)([re],(function(e){return e.collectiviteById})),Object(v.a)([re],(function(e){return e.collectiviteByParentCode}))),ue={FETCH_COLLECTIVITE_BY_ID:"FETCH_COLLECTIVITE_BY_ID",FETCH_COLLECTIVITE_START:"FETCH_COLLECTIVITE_START",FETCH_COLLECTIVITE_SUCCESS:"FETCH_COLLECTIVITE_SUCCESS",FETCH_COLLECTIVITE_FAILLURE:"FETCH_COLLECTIVITE_FAILLURE",STORE_COLLECTIVITE_SUCCESS:"STORE_COLLECTIVITE_SUCCESS",UPDATE_COLLECTIVITE_SUCCESS:"UPDATE_COLLECTIVITE_SUCCESS",REMOVE_COLLECTIVITE_SUCCESS:"REMOVE_COLLECTIVITE_SUCCESS",RESET_EDITED_COLLECTIVITE:"RESET_EDITED_COLLECTIVITE",FETCH_COLLECTIVITE_BY_PARENT_CODE:"FETCH_COLLECTIVITE_BY_PARENT_CODE",FETCH_REGION_SUCCESS:"FETCH_REGION_SUCCESS",RESET_COLLECTIVITE_BY_CODE_PARENT:"RESET_COLLECTIVITE_BY_CODE_PARENT"},je=function(){return{type:ue.FETCH_COLLECTIVITE_START}},me=function(e){return{type:ue.FETCH_COLLECTIVITE_FAILLURE,payload:e}},be=function(){return function(e){e(je()),L("collectivites").then((function(t){var s;e((s=t.data.data,{type:ue.FETCH_COLLECTIVITE_SUCCESS,payload:s}))})).catch((function(t){e(me(t.message))}))}},he=function(){return function(e){e(je()),L("collectivites/regions").then((function(t){var s;e((s=t.data.data,{type:ue.FETCH_REGION_SUCCESS,payload:s}))})).catch((function(t){e(me(t.message))}))}},pe=function(e){return function(t){t(je()),M("districtes/by_parent",e).then((function(e){t(function(e){return{type:ue.FETCH_COLLECTIVITE_BY_PARENT_CODE,payload:e}}(e.data.data))})).catch((function(e){t(me(e.message))}))}},Oe=s(10),xe=s(57),ve=s.n(xe),fe=s(3),ge="...",Ne=function(e,t){var s=t-e+1;return Array.from({length:s},(function(t,s){return s+e}))},Ee=(s(280),function(e){var t=e.onPageChange,s=e.totalCount,n=e.siblingCount,i=void 0===n?1:n,a=e.currentPage,r=e.pageSize,l=e.className,o=function(e){var t=e.totalCount,s=e.pageSize,n=e.siblingCount,i=void 0===n?1:n,a=e.currentPage;return Object(c.useMemo)((function(){var e=Math.ceil(t/s);if(i+5>=e)return Ne(1,e);var c=Math.max(a-i,1),n=Math.min(a+i,e),r=c>2,l=n<e-2,o=1,d=e;if(!r&&l){var u=Ne(1,3+2*i);return[].concat(Object(fe.a)(u),[ge,e])}if(r&&!l){var j=Ne(e-(3+2*i)+1,e);return[o,ge].concat(Object(fe.a)(j))}if(r&&l){var m=Ne(c,n);return[o,ge].concat(Object(fe.a)(m),[ge,d])}}),[t,s,i,a])}({currentPage:a,totalCount:s,siblingCount:i,pageSize:r});if(0===a||o.length<2)return null;var d=o[o.length-1];return Object(h.jsxs)("ul",{className:ve()("pagination-container",Object(Oe.a)({},l,l)),children:[Object(h.jsx)("li",{className:ve()("pagination-item",{disabled:1===a}),onClick:function(){t(a-1)},children:Object(h.jsx)("div",{className:"arrow left"})}),o.map((function(e){return e===ge?Object(h.jsx)("li",{className:"pagination-item dots",children:"\u2026"}):Object(h.jsx)("li",{className:ve()("pagination-item",{selected:e===a}),onClick:function(){return t(e)},children:e})})),Object(h.jsx)("li",{className:ve()("pagination-item",{disabled:a===d}),onClick:function(){t(a+1)},children:Object(h.jsx)("div",{className:"arrow right"})})]})}),_e=s(7),Se=s.n(_e),ye=s(15),Ce={"Gouvernance du syst\xe8me de sant\xe9":[["Coordination ","Coordination "],["Planification","Planification"],["Suivi","Suivi"],["Evaluation ","Evaluation "],["Fonctionnement  ","Fonctionnement "]],"Infrastructures et Equipements":[["Infrastructures","Infrastructures"],["Equipement ","Equipement "],["Maintenance ","Maintenance "]],"Prestations de services ":[["Curative","Curative"],["Pr\xe9ventive","Pr\xe9ventive"],["Promotionnel","Promotionnel"],["R\xe9adaptation ","R\xe9adaptation "]],"Syst\xe8me d\u2019information sanitaire et sociale":[["Gouvernance  ","Gouvernance  "],["Gestion","Gestion"],["Utilisation","Utilisation"]],"Gestion des produits de sant\xe9":[["Production","Production"],["Commande","Commande"],["Distribution","Distribution"],["Stockage","Stockage"]],"Ressources humaines en sant\xe9 ":[["Recrutement","Recrutement"],["Formation","Formation"]],"Protection sociale":[["Assurance obligatoire ","Assurance obligatoire "],["Assurance volontaire ","Assurance volontaire "],["Assistance m\xe9dicale psychosociale","Assistance m\xe9dicale psychosociale"]]},Te=[["Centre de sant\xe9","Centre de sant\xe9"],["Poste de sant\xe9","Poste de sant\xe9"],["Case de sant\xe9","Case de sant\xe9"],["H\xf4pital","H\xf4pital"]],Ie=[["Infrastructures","Infrastructures"],["Logistiques roulantes","Logistiques roulantes"],["Equipements","Equipements"],["Formation","Formation"],["Subvention","Subvention"]],we=["Critique","Urgent","Relativement urgent","Pas urgent"],Re={ONG:["NATIONALE","INTERNATIONALE"],PTF:["BILATERAL","MULTILATERAL"],SPS:["Cabinet m\xe9dical g\xe9n\xe9raliste","Cabinet m\xe9dical sp\xe9cialiste","Cabinet param\xe9dical","Laboratoire","Imagerie","Opticien"],EPS:["Niveau 1","Niveau 2","Niveau 3"],RSE:["Minist\xe8re","Enreprise","Structure de sant\xe9","Collectivit\xe9 locale"]},Ue=[["Gyn\xe9co-obst\xe9trique","Gyn\xe9co-obst\xe9trique"],["Odontostomatologie","Odontostomatologie"],["ORL","ORL"],["Urologie","Urologie"],["Anesth\xe9sie-r\xe9animation","Anesth\xe9sie-r\xe9animation"],["Cardiologie","Cardiologie"],["Dermatologie","Dermatologie"],["Endocrinologie-m\xe9tabolisme","Endocrinologie-m\xe9tabolisme"],["Gastro-ent\xe9rologie","Gastro-ent\xe9rologie"],["M\xe9decine interne","M\xe9decine interne"],["N\xe9phrologie-h\xe9modialyse","N\xe9phrologie-h\xe9modialyse"],["Neurologie","Neurologie"],["Ophtalmologie","Ophtalmologie"],["P\xe9diatrie","P\xe9diatrie"],["Pneumologie","Pneumologie"],["Psychiatrie/psychologie","Psychiatrie/psychologie"],["Appareillage","Appareillage"],["Kin\xe9sith\xe9rapie","Kin\xe9sith\xe9rapie"],["Autre","Autre"]],Fe=[["EPS","EPS"],["SPS","SPS"],["PTF","PTF"],["ONG","ONG"],["RSE","RSE"]],Ae=s(94),Le=s.n(Ae),Me=function(e){return e.sourceFinancements},ke=Object(v.a)([Me],(function(e){return e.sourceFinancements})),De=Object(v.a)([Me],(function(e){return e.sourceFinancementById})),Ve=(T={ADD_ACCTEUR_FIELD:"ADD_ACCTEUR_FIELD",REMOVE_ACCTEUR_FIELD:"REMOVE_ACCTEUR_FIELD",FETCH_SOURCE_FINANCEMENT_START:"FETCH_SOURCE_FINANCEMENT_START",FETCH_SOURCE_FINANCEMENT_SUCCESS:"FETCH_SOURCE_FINANCEMENT_SUCCESS",FETCH_SOURCE_FINANCEMENT_FAILLURE:"FETCH_SOURCE_FINANCEMENT_FAILLURE",FETCH_SOURCE_FINANCEMENT_BY_ID:"FETCH_SOURCE_FINANCEMENT_BY_ID"},Object(Oe.a)(T,"FETCH_SOURCE_FINANCEMENT_BY_ID","FETCH_SOURCE_FINANCEMENT_BY_ID"),Object(Oe.a)(T,"STORE_SOURCE_FINANCEMENT_SUCCESS","STORE_SOURCE_FINANCEMENT_SUCCESS"),Object(Oe.a)(T,"UPDATE_SOURCE_FINANCEMENT_SUCCESS","UPDATE_SOURCE_FINANCEMENT_SUCCESS"),Object(Oe.a)(T,"REMOVE_SOURCE_FINANCEMENT_SUCCESS","REMOVE_SOURCE_FINANCEMENT_SUCCESS"),Object(Oe.a)(T,"RESET_EDITED_SOURCE_FINANCEMENT","RESET_EDITED_SOURCE_FINANCEMENT"),T),Be=function(){return{type:Ve.REMOVE_ACCTEUR_FIELD}},Pe=function(){return{type:Ve.FETCH_SOURCE_FINANCEMENT_START}},He=function(e){return{type:Ve.FETCH_SOURCE_FINANCEMENT_FAILLURE,payload:e}},Xe=function(){return function(e){e(Pe()),L("financements").then((function(t){var s;e((s=t.data.data,{type:Ve.FETCH_SOURCE_FINANCEMENT_SUCCESS,payload:s}))})).catch((function(t){e(He(t.message))}))}},qe=function(e){return function(t){t(Pe()),M("financements",e).then((function(e){t(function(e){return{type:Ve.FETCH_SOURCE_FINANCEMENT_BY_ID,payload:e}}(e.data.data))})).catch((function(e){t(He(e.message))}))}},ze=function(e){return function(t){t(Pe()),k("financements",e).then((function(e){var s;t((s=e.data.data,{type:Ve.STORE_SOURCE_FINANCEMENT_SUCCESS,payload:s}))})).catch((function(e){t(He(e.message))}))}},Ye=function(e,t){return function(s){s(Pe()),V("financements",e,t).then((function(e){var t;s((t=e.data.data,{type:Ve.UPDATE_SOURCE_FINANCEMENT_SUCCESS,payload:t}))})).catch((function(e){s(He(e.message))}))}},Ge=function(e,t){return function(s){s(Pe()),A("financements",e,t).then((function(){s(function(e){return{type:Ve.REMOVE_SOURCE_FINANCEMENT_SUCCESS,payload:e}}(e))})).catch((function(e){s(He(e.message))}))}};var $e=Object(v.b)({sourceFinancements:ke,errorMessage:ee}),Je=Object(x.b)($e,(function(e){return{initSourceFiancementList:function(){return e(Xe())},resetStructure:function(){return e(q())}}}))((function(e){var t,s=e.collectiviteList,n=e.initStructureData,i=e.storeStructure,a=e.allContries,l=(e.isLoading,window.$),o=Object(d.a)({mode:"all"}),u=o.register,m=o.handleSubmit,p=o.getValues,x=(o.reset,o.formState),v=x.errors,f=x.isValid,g=Object(c.useState)(""),N=Object(O.a)(g,2),E=N[0],_=N[1],S=Object(c.useState)(""),y=Object(O.a)(S,2),C=y[0],T=y[1],I=Object(c.useState)(""),w=Object(O.a)(I,2),R=w[0],U=w[1],F=Object(c.useState)([]),A=Object(O.a)(F,2),L=A[0],M=A[1],k=Object(c.useState)([]),D=Object(O.a)(k,2),V=D[0],B=D[1],P=null===s||void 0===s?void 0:s.filter((function(e){return"Region"===e.type_collectivite})),H=function(e){return function(t){var s=L[e];t.target.checked?(s.districts.push({id:t.target.getAttribute("data-id"),nom:t.target.value}),L[e]=s,M(Object(fe.a)(L))):(s.districts=s.districts.filter((function(e){return e.id!==t.target.getAttribute("data-id")})),M(Object(fe.a)(L)))}},X=function(){n(),M([]),B([]),l("#exampleModal").modal("hide"),l(".chip").remove()},q=function(){var e=Object(ye.a)(Se.a.mark((function e(t,s){var c,n,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in c=new FormData,n=function(e){t[e]&&(Array.isArray(t[e])?t[e].forEach((function(t){return c.append(e+"[]",t)})):c.append(e,t[e]))},t)n(a);L.forEach((function(e){c.append("district_interventions[]",JSON.stringify(e))})),i("step_1",c),X(),s.target.reset();case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"modal fade bd-example-modal-lg ",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl ",role:"document",children:Object(h.jsxs)("div",{className:"modal-content bg-white",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Ajout d'une structure"}),Object(h.jsx)("button",{onClick:function(){return X()},type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{onSubmit:m(q),encType:"multipart/form-data",children:[Object(h.jsxs)("div",{className:" bg-white",children:[Object(h.jsxs)("div",{className:"row bg-white mx-1  py-1",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"source_financement",className:"require-label",children:"Source de Financement"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},u("source_financement",{required:{value:!0,message:"Veuillez choisir le source de finncement"}})),{},{className:"form-control",onChange:function(e){_(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"Choisir..."}),Fe.map((function(e){return Object(h.jsx)("option",{disabled:e[2],value:e[1],children:e[1]},e[1])}))]})),v.source_financement&&""===p().source_financement&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.source_financement.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"type",children:"Type"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},u("type_acteur")),{},{onChange:function(e){T(e.target.value)},className:"form-control",children:[Object(h.jsx)("option",{children:"Choisir..."}),null===(t=Re[E])||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})),v.type&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.type.message})]}),"Structure de sant\xe9"===C&&"RSE"==E&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"categorie_rse",children:"Cat\xe9gorie"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},u("categorie_rse")),{},{className:"form-control",children:[Object(h.jsx)("option",{children:"Choisir..."}),Te.map((function(e){return Object(h.jsx)("option",{value:e[1],children:e[1]},e[1])}))]})),v.categorie_rse&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.categorie_rse.message})]}),"SPS"===E&&"Cabinet m\xe9dical sp\xe9cialiste"===C&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"specialite",children:"Domaine de sp\xe9cialisation"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},u("specialite")),{},{className:"form-control",onChange:function(e){U(e.target.value)},children:[Object(h.jsx)("option",{children:"Choisir..."}),null===Ue||void 0===Ue?void 0:Ue.map((function(e){return Object(h.jsx)("option",{value:e[0],children:e[0]},e[0])}))]})),v.type&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.type.message})]}),"Cabinet m\xe9dical sp\xe9cialiste"===C&&"autre_specialite"===R&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"autre_specialite",children:"Pr\xe9ciser la sp\xe9cialit\xe9"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control ".concat(v.denomination&&"is-invalid")},u("autre_specialite")),{},{id:"denomination",placeholder:"Autre sp\xe9cialit\xe9"})),v.type&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.type.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"denomination",className:"require-label",children:"D\xe9nomination"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control ".concat(v.denomination&&"is-invalid")},u("denomination",{required:{value:!0,message:"Veuillez saisir la d\xe9nomination"}})),{},{id:"denomination",placeholder:"Libell\xe9 de la structure"})),v.denomination&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.denomination.message})]}),"PTF"===E&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"pays_nationalite",className:"require-label",children:"Pays/Nationalit\xe9"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},u("pays_nationalite",{required:{value:!0,message:"Veuillez choisir le pays / la nationalit\xe9"}})),{},{className:"form-control",children:[Object(h.jsx)("option",{value:"",children:"Choisir..."}),null===a||void 0===a?void 0:a.map((function(e){return Object(h.jsx)("option",{value:e.name,children:e.name},e.name)}))]})),v.pays_nationalite&&""===p().pays_nationalite&&Object(h.jsx)("p",{className:"text-danger mb-0",children:v.pays_nationalite.message})]}),function(){switch(E){case"ONG":case"PTF":return Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"numero_agrement",children:"N\xb0 agr\xe9ment"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("numero_agrement")),{},{id:"numero_agrement",placeholder:"Num\xe9ro agr\xe9ment"}))]});case"SPS":return Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"numero_autorisation",children:"N\xb0 autorisation"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("numero_autorisation")),{},{id:"numero_autorisation",placeholder:"N\xb0 autorisation"}))]})}}()]}),Object(h.jsxs)("div",{className:"container-fluid mb-3 ",children:["RSE"!==E&&Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"R\xe9gion(s) d'intervention"}),Object(h.jsx)(Le.a,{options:P,selectedValues:"",onSelect:function(e,t){B((function(e){return[].concat(Object(fe.a)(e),[t])})),t.regionChildren=null===s||void 0===s?void 0:s.filter((function(e){return e.parent_code===t.code})),M((function(e){return[].concat(Object(fe.a)(e),[{nom:t.nom,districts:[]}])}))},onRemove:function(e,t){B(V.filter((function(e){return e.id!==t.id}))),M(L.filter((function(e){return e.nom!==t.nom})))},displayValue:"nom",placeholder:"S\xe9lectionner r\xe9gion(s)...",className:"form-control"}),V.length>0&&Object(h.jsxs)("div",{className:"row border container-fluid mx-auto pb-2 mb-2 overflow-auto",children:[Object(h.jsx)("label",{class:"form-check-label mt-3",children:"Districts sanitaires"}),V.map((function(e,t){return Object(h.jsxs)("div",{className:"col-md-4 mt-2",children:[Object(h.jsx)("div",{style:{background:"#3096F7"},children:Object(h.jsx)("h6",{className:"card-subtitle ml-2 mt-0 text-white",children:e.nom.toUpperCase()})}),Object(h.jsx)("div",{className:"border pb-1 overflow-auto",style:{height:"150px",position:"relative"},children:e.regionChildren.map((function(e){return Object(h.jsx)("div",{class:" ml-2 ",children:Object(h.jsxs)("div",{class:"d-flex form-check form-check-inline",style:{marginBottom:"-25px"},children:[Object(h.jsx)("input",{value:e.nom,class:"form-check mr-2 mb-2 big-checkbox",type:"checkbox",id:"gridCheck","data-id":e.id,onChange:H(t)}),Object(h.jsx)("label",{class:" mt-1",children:e.nom.toUpperCase()})]})})}))})]})}))]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Coordonn\xe9es si\xe8ge"}),Object(h.jsx)("div",{className:" bg-white container-fluid",children:Object(h.jsxs)("div",{className:"row bg-white ",children:["CT"!==E&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-4",children:[Object(h.jsx)("label",{htmlFor:"adresse_siege",children:"Adresse"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("adresse_siege")),{},{id:"adresse_siege",placeholder:"Ville, pays, rue etc."}))]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-4",children:[Object(h.jsx)("label",{htmlFor:"telephone_siege",children:"T\xe9l\xe9phone"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("telephone_siege")),{},{id:"telephone_siege",placeholder:"Ex: +221........"}))]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-4",children:[Object(h.jsx)("label",{htmlFor:"email_siege",children:"Email"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("email_siege")),{},{id:"email_siege",placeholder:"Ex: @gmail.com"}))]})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Personne responsable"}),Object(h.jsx)("div",{className:" bg-white container-fluid",children:Object(h.jsxs)("div",{className:"row bg-white",children:[Object(h.jsxs)("div",{className:"form-group col-md-3 input-group-sm ",children:[Object(h.jsx)("label",{htmlFor:"fonction_responsable",children:"Fonction"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("fonction_responsable")),{},{id:"fonction_responsable",placeholder:"Ex: Directeur..."}))]}),Object(h.jsxs)("div",{className:"form-group col-md-3 input-group-sm ",children:[Object(h.jsx)("label",{htmlFor:"prenom_responsable",children:"Pr\xe9nom"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("prenom_responsable")),{},{id:"prenom_responsable",placeholder:"Pr\xe9nom"}))]}),Object(h.jsxs)("div",{className:"form-group col-md-3 input-group-sm ",children:[Object(h.jsx)("label",{htmlFor:"nom_responsable",children:"Nom"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("nom_responsable")),{},{id:"nom_responsable",placeholder:"Nom de famille"}))]}),Object(h.jsxs)("div",{className:"form-group col-md-3 input-group-sm ",children:[Object(h.jsx)("label",{htmlFor:"email_responsable",children:"Email"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("email_responsable")),{},{id:"email_responsable",placeholder:"Ex: @gmail.com"}))]}),Object(h.jsxs)("div",{className:"form-group col-md-3 input-group-sm ",children:[Object(h.jsx)("label",{htmlFor:"telephone_responsable",children:"T\xe9l\xe9phone"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},u("telephone_responsable")),{},{id:"telephone_responsable",placeholder:"Ex: +221........"}))]})]})})]})]})]}),Object(h.jsxs)("div",{className:"modal-footer mt-2 d-flex justify-content-between",children:[Object(h.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return X()},children:["Annuler",Object(h.jsx)(b.a,{icon:j.n,className:"ml-1"})]}),Object(h.jsxs)("button",{disabled:!f,type:"submit",className:"btn btn-success",children:["Enregistrer",Object(h.jsx)(b.a,{icon:j.e,className:"ml-1"})]})]})]})})]})})})})),Ze=["structures","getCurrentStructure","history","currentUser"];function Ke(e){var t=e.structures,s=(e.getCurrentStructure,e.history),i=e.currentUser,a=Object(l.a)(e,Ze),o=Object(c.useState)([{name:"Senegal"},{name:"Mali"},{name:"Gambi"},{name:"Etc.."}]),d=Object(O.a)(o,2),u=d[0],m=(d[1],Object(c.useState)(1)),p=Object(O.a)(m,2),x=p[0],v=p[1],g=n.a.useMemo((function(){var e=8*(x-1),s=e+8;return null===t||void 0===t?void 0:t.slice(e,s)}),[x,t]);Object(c.useEffect)((function(){e.initStructureData(),e.initCollectiviteList()}),[]);return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.c,className:"mr-1 mb-1"}),"GESTION DES STRUCTURES"]}),Object(h.jsxs)("button",{className:"btn btn-primary btn-sm text-white display1 btn-bar","data-toggle":"modal","data-target":"#exampleModal",children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.c,className:"mr-1"})}),"Ajouter une structure"]})]})}),Object(h.jsx)("div",{class:"container-fluid dash-content",children:Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[(null===i||void 0===i?void 0:i.roles.includes("Admin"))&&Object(h.jsx)(Je,Object(r.a)({allContries:u},a)),Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsx)("h5",{class:"mb-0",children:"Liste des structures de sant\xe9"})}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),e.isLoading?Object(h.jsx)("div",{className:"",children:Object(h.jsx)(f.a,{count:7,height:"40px"})}):Object(h.jsxs)("table",{class:"table table-hover table-sm table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"DENOMINATION"}),Object(h.jsx)("th",{children:"SOURCE FINANCEMENT"}),Object(h.jsx)("th",{children:"SIEGE"}),Object(h.jsx)("th",{children:"EMAIL"}),Object(h.jsx)("th",{children:"PHONE"}),Object(h.jsx)("th",{children:"ACTIONS"})]})}),Object(h.jsx)("tbody",{children:null===g||void 0===g?void 0:g.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",Object(h.jsxs)("div",{class:"benef",children:[Object(h.jsx)("span",{class:"avatar-benef",children:Object(h.jsx)("img",{src:"/assets/admin/images/avatar.jpg",alt:""})}),Object(h.jsx)("span",{class:"nom-benef",children:t.denomination})]})]}),Object(h.jsx)("td",{children:t.source_financement}),Object(h.jsx)("td",{children:t.adresse_siege}),Object(h.jsx)("td",{children:t.email_siege}),Object(h.jsx)("td",{children:t.telephone_siege}),Object(h.jsx)("td",{children:Object(h.jsxs)("span",{children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.h,color:"grey",role:"button",onClick:function(){return s.push("/admin/structures/".concat(t.id))}}),Object(h.jsx)(b.a,{className:"mr-2",icon:j.o,color:"red",role:"button",onClick:function(){return s=t.id,c=t.denomination,void e.removeStructure(s,c);var s,c}})]})})]})}))})]})]})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 float-right mr-4",currentPage:x,totalCount:t.length,pageSize:8,onPageChange:function(e){return v(e)}})]})})})]})})}var Qe=Object(v.b)({structures:Q,structure:W,collectiviteList:le,currentUser:ne,isLoading:te}),We=Object(x.b)(Qe,(function(e){return{initStructureData:function(){return e(z())},getCurrentStructure:function(t){return e(Y(t))},getStructureByType:function(t){return e(G(t))},storeStructure:function(t,s){return e($(t,s))},updateStructure:function(t,s){return e(J(t,s))},removeStructure:function(t,s){return e(Z(t,s))},initCollectiviteList:function(){return e(be())}}}))(n.a.memo(Ke)),et=s(47),tt=s.n(et),st=(s(303),s(326)),ct=s.p+"static/media/ajout.145fba69.svg",nt=s.p+"static/media/supprimer.eecb3abc.svg";var it=Object(v.b)({sourceFinancements:ke,errorMessage:ee}),at=Object(x.b)(it,(function(e){return{initSourceFiancementList:function(){return e(Xe())},resetStructure:function(){return e(q())}}}))((function(e){var t,s,n,i,a=window.$,l=Object(d.a)({mode:"all"}),o=l.register,u=l.handleSubmit,m=(l.control,l.watch),p=l.getValues,x=(l.setValue,l.clearErrors),v=l.reset,f=l.formState,g=f.errors,N=f.isValid,E=Object(c.useState)(),_=Object(O.a)(E,2),S=(_[0],_[1]),y=Object(c.useState)(),C=Object(O.a)(y,2),T=C[0],I=C[1],w=Object(c.useState)([{libelle:"",montant:""}]),R=Object(O.a)(w,2),U=(R[0],R[1],Object(c.useState)([{libelle:"",opportunite:"",perspective:""}])),F=Object(O.a)(U,2),A=(F[0],F[1],Object(c.useState)([{name:"",file:null}])),L=Object(O.a)(A,2),M=(L[0],L[1],Object(c.useState)({})),k=Object(O.a)(M,2),D=(k[0],k[1],Object(c.useState)([{pilier:"",axe:[{libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}]}])),V=Object(O.a)(D,2),B=V[0],P=V[1],H=Object(c.useState)(0),X=Object(O.a)(H,2),q=X[0],z=X[1],Y=Object(c.useState)(0),G=Object(O.a)(Y,2),$=G[0],J=G[1],Z=Object(c.useState)(),K=Object(O.a)(Z,2),Q=(K[0],K[1],Object(c.useState)(!0)),W=Object(O.a)(Q,2),ee=(W[0],W[1],Object(c.useState)(!0)),te=Object(O.a)(ee,2),se=(te[0],te[1],Object(c.useState)(!0)),ce=Object(O.a)(se,2),ne=(ce[0],ce[1],Object(c.useState)([])),ie=Object(O.a)(ne,2),ae=(ie[0],ie[1],Object(c.useState)([])),re=Object(O.a)(ae,2),le=(re[0],re[1],Object(c.useState)([])),oe=Object(O.a)(le,2),de=(oe[0],oe[1],Object(c.useState)(!1)),ue=Object(O.a)(de,2),je=(ue[0],ue[1]),me=Object(c.useState)([[1,"1"]]),be=Object(O.a)(me,2),he=(be[0],be[1],Object(c.useState)([[1,"1"]])),pe=Object(O.a)(he,2),xe=(pe[0],pe[1],Object(c.useState)([[1,"1"]])),ve=Object(O.a)(xe,2),ge=(ve[0],ve[1],Object(c.useState)({})),Ne=Object(O.a)(ge,2),Ee=Ne[0],_e=(Ne[1],Object(c.useState)({type_acteur:null})),Te=Object(O.a)(_e,2),Ie=(Te[0],Te[1],Object(c.useState)([{libelle:"",montant:""}])),we=Object(O.a)(Ie,2),Re=(we[0],we[1],Object(c.useState)({})),Ue=Object(O.a)(Re,2),Fe=(Ue[0],Ue[1],Object(c.useState)()),Ae=Object(O.a)(Fe,2),Le=Ae[0],Me=(Ae[1],Object(c.useState)(!1)),ke=Object(O.a)(Me,2),De=ke[0],Ve=(ke[1],Object(c.useState)(!1)),Be=Object(O.a)(Ve,2),Pe=Be[0],He=Be[1],Xe=(m().type_acteur||m().denomination,Object(c.useState)([{title:"infos sur l'investissement"},{title:"Recap"}])),qe=Object(O.a)(Xe,2),ze=qe[0];qe[1],Object(c.useEffect)((function(){var t,s,c,n,i,a,r,l,o,d,u,j,m,b;(null===(t=e.currentUser)||void 0===t?void 0:t.structure)&&v((b={adresse_siege:null===(s=e.currentUser)||void 0===s||null===(c=s.structure)||void 0===c?void 0:c.adresse_siege,email_siege:null===(n=e.currentUser)||void 0===n||null===(i=n.structure)||void 0===i?void 0:i.email_siege},Object(Oe.a)(b,"adresse_siege",null===(a=e.currentUser)||void 0===a||null===(r=a.structure)||void 0===r?void 0:r.adresse_siege),Object(Oe.a)(b,"latitude",null===(l=e.currentUser)||void 0===l||null===(o=l.structure)||void 0===o?void 0:o.latitude),Object(Oe.a)(b,"longitude",null===(d=e.currentUser)||void 0===d||null===(u=d.structure)||void 0===u?void 0:u.longitude),Object(Oe.a)(b,"altitude",null===(j=e.currentUser)||void 0===j||null===(m=j.structure)||void 0===m?void 0:m.altitude),b))}),[]);var Ye,Ge=function(){z((function(e){return e+1})),J((function(e){return e+1}))},$e=function(){z((function(e){return e-1})),J((function(e){return e-1}))};Object(st.a)(),Ye=De?{latitude:"14.7510199",longitude:"-17.4535678",altitude:"16.142"}:{latitude:p().latitude,longitude:p().longitude,altitude:p().altitude},null===(t=e.collectiviteList)||void 0===t||t.filter((function(e){return"Region"===e.type_collectivite}));var Je=function(){return Object(h.jsxs)("button",{style:{display:0!=q?"block":"none"},onClick:$e,type:"button",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-arrow-left mdi-18px text-white align-left"}),"Pr\xe9c\xe9dent"]})},Ze=function(e,t,s,c){return function(n){var i=B[e];i.axe[t][s][c]=n.target.value,B[e]=i,P(Object(fe.a)(B)),console.log(B)}},Ke=function(e){return function(t){var s=B[e];s.pilier=t.target.value,s.optionAxies=Ce[t.target.value],B[e]=s,P(Object(fe.a)(B)),S(Ce[t.target.value])}},Qe=function(){var t=Object(ye.a)(Se.a.mark((function t(s,c){var n,i,r,l;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(l in n=[{libelle:"Subvention",montant:"".concat(p().subvention)},{libelle:"Transfert",montant:"".concat(p().transfert)},{libelle:"Recette",montant:"".concat(p().recette)},{libelle:"Don",montant:"".concat(p().don)},{libelle:p().autre_mode_libelle||"",montant:"".concat(p().autre_mode_montant)||""}],s.paquet_sante_intervention=null===Le||void 0===Le?void 0:Le.join(),s.latitude=Ye.latitude,s.longitude=Ye.longitude,s.altitude=Ye.altitude,s.mecanisme_financement&&"Autres"===s.mecanisme_financement&&s.autre_mecanisme_financement&&(s.mecanisme_financement=s.autre_mecanisme_financement),s.monnaie&&"Autre"===s.monnaie&&s.autre_monnaie&&(s.monnaie=s.autre_monnaie),(i=new FormData).append("mode_finance",JSON.stringify(n)),Object.entries(Ee).forEach((function(e){return i.append(e[0],e[1])})),r=function(e){s[e]&&(Array.isArray(s[e])?s[e].forEach((function(t){return i.append(e+"[]",t)})):i.append(e,s[e]))},s)r(l);B.forEach((function(e){i.append("piliers[]",JSON.stringify(e))})),n.forEach((function(e){i.append("mode_finance[]",JSON.stringify(e))})),e.storeStructure("step_2",i),v(),a("#exampleModal").modal("hide"),J(0),z(0),e.fetchInvestissement();case 17:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"modal fade bd-example-modal-xl ",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl ",role:"document",children:Object(h.jsxs)("div",{className:"modal-content bg-white",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsxs)("h5",{className:"modal-title",id:"exampleModalLabel",children:["AJOUT FINACEMENT"," ",null===(s=e.currentUser)||void 0===s||null===(n=s.structure)||void 0===n||null===(i=n.denomination)||void 0===i?void 0:i.toUpperCase()]}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsx)("div",{className:"bg-opacity-10 pb-3 w-100 top-form",style:{marginTop:"-15px",width:"100vw !important"},children:Object(h.jsx)(tt.a,{steps:ze,activeStep:$})}),Object(h.jsxs)("form",{onSubmit:u(Qe),children:[q>=0&&Object(h.jsxs)("section",{style:{display:0===q?"block":"none"},children:[Object(h.jsx)("div",{className:"bg-white mt-4",children:Object(h.jsxs)("div",{className:" bg-white ",children:[Object(h.jsxs)("div",{className:"row container-fluid m-0",children:[Object(h.jsxs)("div",{className:"form-group col-md-6 ",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Ann\xe9e"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control input-style"},o("annee",{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"annee",placeholder:"Ann\xe9e"})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend bg-style text-white",children:Object(h.jsx)(b.a,{icon:j.d,className:"mr-1 mb-1"})})})]}),g.annee&&Object(h.jsx)("p",{className:"text-danger mb-0",children:g.annee.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"monnaie",children:"Monnaie"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},o("monnaie",{required:{value:!0,message:"Veuillez choisir la monnaie"}})),{},{onChange:function(e){return I(e.target.value)},id:"monnaie",className:"form-control input-style",children:[Object(h.jsx)("option",{value:"XOF",children:"XOF (CFA)"}),Object(h.jsx)("option",{value:"EURO",children:"EURO (\u20ac)"}),Object(h.jsx)("option",{value:"DOLLAR",children:"DOLLAR ($)"}),Object(h.jsx)("option",{value:"Autre",children:"Autre"})]})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend bg-style text-white",children:Object(h.jsx)(b.a,{icon:j.f,className:"mr-1 mb-1"})})})]})]}),"Autre"===T&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Pr\xe9ciser la monnaie"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},o("autre_monnaie")),{},Object(Oe.a)({placeholder:"Pr\xe9ciser la monnaie"},"placeholder","")))]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border section-style",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Les dimensions du financement"}),Object(h.jsxs)("div",{className:"row mx-1 px-2 d-flex flex-row bg-section",children:[Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},o("mobilisation_ressource")),{},{value:"1",type:"checkbox",id:"mobilisation_ressource"})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"inlineCheckbox1",children:"Mobilisation des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},o("mis_en_commun_ressource")),{},{value:"1",type:"checkbox",id:"mis_en_commun_ressource"})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"mis_en_commun_ressource",children:"Mis en commun des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},o("achat_service")),{},{onChange:function(e){je(e.target.checked)},value:"1",type:"checkbox",id:"achat_service"})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"achat_service",children:"Achat de services"})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border section-style",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"pb-2 bg-section",children:[Object(h.jsxs)("div",{className:"d-flex flex-wrap mx-1 pt-2 w-100",children:[Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Subvention"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},o("subvention")),{},{className:"form-control form-control-sm w-20 input-style","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la subvention"})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Transfert"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},o("transfert")),{},{className:"form-control form-control-sm w-20 input-style","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du transfert"})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Recette"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},o("recette")),{},{className:"form-control form-control-sm w-20 input-style","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la recette"})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Don"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},o("don")),{},{className:"form-control form-control-sm w-20 input-style","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du don"})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",{className:"form-check mr-2 big-checkbox",onChange:function(e){e.target.checked?He(!0):He(!1),!e.target.checked&&x("autre_mode_montant"),!e.target.checked&&x("autre_mode_libelle"),console.log(g)},value:"1",type:"checkbox"}),Object(h.jsx)("label",{className:"form-check-label",children:"Autre"})]}),Pe&&Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_libelle",children:"Libell\xe9 du mode de financement"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},o("autre_mode_libelle",{required:{value:!0,message:"Veuillez saisir le libelle"}})),{},{placeholder:"Pr\xe9ciser le mode de fiancement"})),g.autre_mode_libelle&&Object(h.jsx)("p",{className:"text-danger mb-0",children:g.autre_mode_libelle.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_motant",children:"Montant"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},o("autre_mode_montant",{required:{value:!0,message:"Veuillez saisir le montant"}})),{},{placeholder:"Le montant"})),g.autre_mode_montant&&Object(h.jsx)("p",{className:"text-danger mb-0",children:g.autre_mode_montant.message})]})]})]})]}),Object(h.jsxs)("fieldset",{className:"row scheduler-border border mb-5 section-style m-0",children:[Object(h.jsxs)("legend",{className:"scheduler-border text-muted pb-4",children:[Object(h.jsx)("div",{className:"col-md-8 pb-2 action-section-ajout",children:Object(h.jsx)("a",{href:"#",onClick:function(){P((function(e){return[].concat(Object(fe.a)(e),[{pilier:"",axe:[{libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}]}])}))},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-success",children:[Object(h.jsx)("small",{class:"text-bold",children:"Ajouter Pilier"}),Object(h.jsx)("img",{src:ct,alt:"",class:"ml-1"})]})})}),"Piliers et axes d'intervention"]}),B.map((function(e,t){return Object(h.jsx)("div",{class:"row p-3",children:Object(h.jsxs)("div",{className:"row p-4 pt-3 d-flex border m-1 bg-white cadrage control",children:[Object(h.jsx)("div",{className:"offset-md-10 col-md-2 mb-0 pb-0 action-section decale1",children:Object(h.jsx)("a",{href:"#",onClick:function(){return function(e){B.splice(e,1),P(Object(fe.a)(B))}(t)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-danger",children:[Object(h.jsx)("small",{class:"text-bold",children:"Supprimer"}),Object(h.jsx)("img",{src:nt,alt:"",class:"ml-1"})]})})}),Object(h.jsx)("div",{className:"row col-md-12 ",children:Object(h.jsxs)("div",{className:"form-group mb-4",children:[Object(h.jsx)("label",{htmlFor:"pilier",children:"Pilier"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},o("pilier_".concat(t),{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"pilier",onChange:Ke(t),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),Object.keys(Ce).map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]}))]})}),e.axe.map((function(s,c){var n,i,a;return Object(h.jsx)("div",{class:"row bg-axe p-4 border cadrage control mt-4",children:Object(h.jsx)("div",{className:"col-md-12 ",children:Object(h.jsxs)("div",{className:"row d-flex no-gutters border-bottom ",children:[Object(h.jsxs)("div",{className:"row col-md-12 mx-1 mb-3",style:{margin:"auto"},children:[Object(h.jsxs)("div",{className:"offset-md-7 col-md-5 mb-0 pb-0 action-section decale",children:[Object(h.jsx)("a",{href:"#",onClick:function(){return function(e){var t=B[e];B[e]=t,t.axe.push({libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}),console.log(B),P(Object(fe.a)(B))}(t)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-success",children:[Object(h.jsx)("small",{class:"text-bold",children:"Ajouter Axe d'intervention"}),Object(h.jsx)("img",{src:ct,alt:"",class:"ml-1"})]})}),Object(h.jsx)("a",{href:"#",onClick:function(){return function(e,t){var s=B[e];s.axe.splice(t,1),B[e]=s,P(Object(fe.a)(B))}(t,c)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-danger",children:[Object(h.jsx)("small",{class:"text-bold",children:"Supprimer"}),Object(h.jsx)("img",{src:nt,alt:"",class:"ml-1"})]})})]}),Object(h.jsxs)("div",{className:"form-group mx-auto",children:[Object(h.jsx)("label",{htmlFor:"libelle",children:"Axe d'intervention"}),Object(h.jsxs)("select",{name:"libelle",id:"libelle",onChange:(i=t,a=c,function(e){var t=B[i];t.axe[a][e.target.name]=e.target.value,B[i]=t,P(Object(fe.a)(B))}),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),null===(n=e.optionAxies)||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("option",{value:e[1],children:e[1]},e[c])}))]})]})]}),Object(h.jsxs)("div",{className:"row col-md-12 mx-auto ",children:[Object(h.jsxs)("div",{class:"row cadrage control bg-axe-section-input mb-4",style:{"min-height":"100px"},children:[Object(h.jsx)("div",{class:"col-md-2  bg-axe-section p-4",children:Object(h.jsx)("span",{className:"bg-opacity-75 text-white text-style",children:"Biens et Services"})}),Object(h.jsxs)("div",{class:"row col-md-10 bg-axe-section-input pt-2",children:[Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant pr\xe9vu",children:"Montant pr\xe9vu"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{onChange:Ze(t,c,"bien_et_service","montant_prevu"),type:"number",className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant mobilise",children:"Montant mobilis\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"bien_et_service","montant_mobilise"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant execute",children:"Montant ex\xe9cut\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"bien_et_service","montant_execute"),className:"form-control form-control-sm input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]})]})]}),Object(h.jsxs)("div",{class:"row cadrage control bg-axe-section-input mb-3",style:{"min-height":"100px"},children:[Object(h.jsx)("div",{class:"col-md-2  bg-axe-section p-4",children:Object(h.jsx)("span",{className:"bg-opacity-75 text-white text-style pt-3",children:"Investissements"})}),Object(h.jsxs)("div",{class:"row col-md-10 bg-axe-section-input pt-2",children:[Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant prevu",children:"Montant pr\xe9vu"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_prevu"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant mobilise",children:"Montant mobilis\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_mobilise"),className:"form-control form-control-sm input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant execute",children:"Montant ex\xe9cut\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_execute"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]})]})]})]})]},c)})})}))]},t)})}))]})]})}),Object(h.jsxs)("div",{className:" mt-2 float-right",children:[Je(),Object(h.jsxs)("button",{onClick:Ge,disabled:!N,type:"button",className:"btn btn-primary",children:["Suivant",Object(h.jsx)(b.a,{className:"ml-2",icon:j.b,size:"lg",role:"button"})]})]})]}),q>=1&&Object(h.jsxs)("section",{style:{display:1===q?"block":"none"},children:[Object(h.jsxs)("div",{className:" bg-white row border mx-1 mt-3 p-3",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Ann\xe9e"})," : ",p().annee]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Monnaie"})," : ",p().monnaie]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"dimentions"})," :"," ",p().mobilisation_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mobilisation"}),p().achat_service&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Achat service"}),p().mis_en_commun_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mis en commun"})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"row",children:[p().subvention&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Subvention"})," :"," ",p().subvention]})}),p().transfert&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Transfert"})," :"," ",p().transfert]})}),p().recette&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Recette"})," : ",p().recette]})}),p().don&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Don"})," : ",p().don]})}),p().autre_mode_montant&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:p().autre_mode_libelle})," ",": ",p().autre_mode_montant]})})]})]}),B.map((function(e,t){return Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Pilier : ".concat(e.pilier)}),Object(h.jsx)("div",{className:"row mx-1 mb-3 mr-1",children:e.axe.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Axe:  ".concat(e.libelle)}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"text-muted",children:"Biens et services"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_execute})]})]})]}),Object(h.jsxs)("div",{className:"col-md-6 border-left",children:[Object(h.jsx)("p",{className:"text-muted",children:"Investissements"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_execute})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_execute})]})]})]})]})]})})}))})]})}))]}),Object(h.jsxs)("div",{className:"modal-footer mt-2 d-flex justify-content-between",children:[Je(),Object(h.jsxs)("button",{disabled:!N,type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"}),"Enregistrer"]})]})]})]})]})]})})})})),rt=s.p+"static/media/structure.fc59c89a.svg",lt=Object(o.g)((function(e){var t,s,i,a,l,o,u,m,p,x,v,g,N,E=e.currentUser,_=e.storeStructure,S=e.getCurrentUser,y=e.investissements,C=e.editInvestisement,T=e.isLoading,I=e.history,w=Object(d.a)({mode:"all"}),R=w.register,U=w.handleSubmit,F=(w.getValues,w.setValue),A=(w.reset,w.formState),L=A.errors,M=(A.isValid,window.$,Object(c.useState)(!1)),k=Object(O.a)(M,2),D=k[0],V=k[1],B=Object(c.useState)(!1),P=Object(O.a)(B,2),H=P[0],X=P[1],q=Object(c.useState)(1),z=Object(O.a)(q,2),Y=z[0],G=z[1],$=n.a.useMemo((function(){var e=8*(Y-1),t=e+8;return null===y||void 0===y?void 0:y.slice(e,t)}),[Y,y]),J=(Object(st.a)(),n.a.useCallback((function(){X(!0)}),[H])),Z=function(){var e=Object(ye.a)(Se.a.mark((function e(t,s){var c,n,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in D&&(t.latitude="14.7510199",t.longitude="-17.4535678",t.altitude="16.142"),c=new FormData,n=function(e){t[e]&&(Array.isArray(t[e])?t[e].forEach((function(t){return c.append(e+"[]",t)})):c.append(e,t[e]))},t)n(i);_("update_basic_info",c),X(!1),V(!1),S();case 8:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsx)("div",{class:"col-md-12",children:Object(h.jsx)("div",{class:"card stats un-stat-2",children:H?Object(h.jsx)("div",{className:"card-body",style:{marginTop:"-20px"},children:Object(h.jsx)("form",{onSubmit:U(Z),children:Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Infos structure"}),Object(h.jsx)("div",{className:"row bg-white mx-1",children:Object(h.jsxs)("div",{className:"row ml-3",children:[Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Adresse"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},R("adresse_siege",{required:{value:!0,message:"Veuillez saisir l'adresse"}})),{},{className:"form-control",id:"longitude",defaultValue:null===E||void 0===E||null===(u=E.structure)||void 0===u?void 0:u.adresse_siege})),L.adresse_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.adresse_siege.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Email"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===E||void 0===E||null===(m=E.structure)||void 0===m?void 0:m.email_siege},R("email_siege",{required:{value:!0,message:"Veuillez saisir l'email"}})),{},{className:"form-control",id:"longitude"})),L.email_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.email_siege.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"T\xe9l\xe9phone"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===E||void 0===E||null===(p=E.structure)||void 0===p?void 0:p.telephone_siege},R("telephone_siege",{required:{value:!0,message:"Veuillez saisir le t\xe9l\xe9phone"}})),{},{className:"form-control",id:"longitude"})),L.telephone_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.telephone_siege.message})]})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"G\xe9olocalisation"}),Object(h.jsx)("div",{className:"row bg-white ",children:Object(h.jsxs)("div",{className:"d-flex ",children:[Object(h.jsxs)("div",{className:"col-md-4  form-check-inline  d-flex",children:[Object(h.jsx)("input",{className:"form-check big-input",onChange:function(e){e.target.checked?V(!0):V(!1),e.target.checked&&(F("latitude","14.7510199"),F("longitude","-17.4535678"),F("altitude","16.142"))},value:"1",type:"checkbox"}),Object(h.jsx)("label",{className:"form-check-label",children:"R\xe9cup\xe9rer ma position actuelle ?"})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"latitude",children:"Latitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===E||void 0===E||null===(x=E.structure)||void 0===x?void 0:x.latitude},R("latitude",{required:{value:!0,message:"Veuillez saisir la latitude"}})),{},{className:"form-control input-group-sm latitude",disabled:D})),L.latitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.latitude.message})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Longitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===E||void 0===E||null===(v=E.structure)||void 0===v?void 0:v.longitude},R("longitude",{required:{value:!0,message:"Veuillez saisir la longitude"}})),{},{className:"form-control input-group-sm longitude",disabled:D,id:"longitude"})),L.longitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.longitude.message})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"altitude",children:"Altitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===E||void 0===E||null===(g=E.structure)||void 0===g?void 0:g.altitude},R("altitude",{required:{value:!0,message:"Veuillez saisir l'altitude"}})),{},{className:"form-control input-group-sm altitude",disabled:D,id:"altitude"})),L.altitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.altitude.message})]})]})})]}),Object(h.jsxs)("div",{className:"d-flex  justify-content-between mt-3",children:[Object(h.jsxs)("button",{type:"button",className:"float-right btn btn-sm btn-light ",onClick:function(){return X(!1)},children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.n,size:"lg",color:"grey",role:"button"}),Object(h.jsx)("strong",{className:"text-default",children:"Annuler"})]}),Object(h.jsxs)("button",{type:"submit",className:"float-right btn btn-sm btn-success",children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.e,size:"lg",color:"white",role:"button"}),Object(h.jsx)("strong",{children:"Valider"})]})]})]})})}):Object(h.jsx)("div",{class:"content",children:T?Object(h.jsx)(f.a,{count:1,height:"120px"}):Object(h.jsxs)("div",{class:"row",children:[Object(h.jsx)("div",{class:"col-md-6 col-lg-2 no-border",children:Object(h.jsx)("div",{class:"un-stat",children:Object(h.jsx)("div",{class:"shadow-2 struture-logo un-stat-img",children:Object(h.jsx)("img",{src:rt,alt:"",class:"app-logo struture-logo ml-1"})})})}),Object(h.jsx)("div",{class:"col-md-6 col-lg-4",children:Object(h.jsxs)("div",{class:"un-stat",children:[Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Source de fiancement :"})," ",null===E||void 0===E||null===(t=E.structure)||void 0===t?void 0:t.source_financement,Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Adresse :"})," ",null===E||void 0===E||null===(s=E.structure)||void 0===s?void 0:s.adresse_siege,Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Type acteur :"})," ",null===E||void 0===E||null===(i=E.structure)||void 0===i?void 0:i.type_acteur]})]})}),Object(h.jsx)("div",{class:"col-md-6 col-lg-4 no-border",children:Object(h.jsxs)("div",{class:"un-stat",children:[Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Sp\xe9cialisation :"})," ",null===E||void 0===E||null===(a=E.structure)||void 0===a?void 0:a.type_acteur]}),Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Email :"})," ",null===E||void 0===E||null===(l=E.structure)||void 0===l?void 0:l.email_siege]}),Object(h.jsxs)("div",{className:"col-md-12 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"T\xe9l\xe9phone :"})," ",null===E||void 0===E||null===(o=E.structure)||void 0===o?void 0:o.telephone_siege]})]})}),Object(h.jsx)("div",{class:"col-md-6 col-lg-2",children:Object(h.jsxs)("button",{onClick:function(){return J()},type:"submit",className:"float-right btn btn-sm btn-primary btn-style mt-4",children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.j,size:"lg",color:"white",role:"button"}),Object(h.jsx)("strong",{className:"text-white",children:"Modifier"})]})})]})})})})}),!H&&Object(h.jsxs)("div",{class:"card un-stat-2",children:[Object(h.jsxs)("div",{class:"card-header",children:[Object(h.jsx)("h5",{class:"mb-0 table-title",children:null===E||void 0===E||null===(N=E.structure)||void 0===N?void 0:N.denomination}),Object(h.jsx)("div",{class:"dropdown exporter"})]}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsx)("div",{children:T?Object(h.jsx)("div",{className:"",children:Object(h.jsx)(f.a,{count:7,height:"40px"})}):Object(h.jsxs)("div",{className:"mt-1",style:{height:"auto",background:"white"},children:[Object(h.jsxs)("table",{class:"table table-hover table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Ann\xe9"}),Object(h.jsx)("th",{children:"MONNAIE"}),Object(h.jsx)("th",{children:"MODE FINANCEMENT"}),Object(h.jsx)("th",{children:"PILIER"}),Object(h.jsx)("th",{children:"ACTIONS"})]})}),Object(h.jsx)("tbody",{children:null===$||void 0===$?void 0:$.map((function(e){var t;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.annee}),Object(h.jsx)("td",{children:e.monnaie}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:e.mode_financement.map((function(e){return e.montant&&Object(h.jsx)("span",{className:"actif mr-1",children:e.libelle})}))})}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:null===(t=e.piliers)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("span",{className:"actif mr-1",children:e.libelle})}))})}),Object(h.jsx)("td",{children:Object(h.jsxs)("span",{children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.h,color:"grey",role:"button",onClick:function(){return I.push("/acteur/investissements/".concat(e.id))}}),Object(h.jsx)(b.a,{className:"mr-2",icon:j.j,color:"grey",role:"button","data-toggle":"modal","data-target":"#editModal",onClick:function(){return C(e.id)}})]})})]},e.id)}))})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 mx-auto",currentPage:Y,totalCount:null===y||void 0===y?void 0:y.length,pageSize:8,onPageChange:function(e){return G(e)}})]})})]})]})]})})),ot={FETCH_INVESTISSEMENT_BY_ID_SUCCESS:"FETCH_INVESTISSEMENT_BY_ID_SUCCESS",FETCH_INVESTISSEMENT_START:"FETCH_INVESTISSEMENT_START",FETCH_INVESTISSEMENT_BY_STRUCTURE_SUCCESS:"FETCH_INVESTISSEMENT_BY_STRUCTURE_SUCCESS",FETCH_INVESTISSEMENT_SUCCESS:"FETCH_INVESTISSEMENT_SUCCESS",FETCH_INVESTISSEMENT_FAILLURE:"FETCH_INVESTISSEMENT_FAILLURE",STORE_INVESTISSEMENT_SUCCESS:"STORE_INVESTISSEMENT_SUCCESS",UPDATE_INVESTISSEMENT_SUCCESS:"UPDATE_INVESTISSEMENT_SUCCESS",REMOVE_INVESTISSEMENT_SUCCESS:"REMOVE_INVESTISSEMENT_SUCCESS",RESET_EDITED_INVESTISSEMENT:"RESET_EDITED_INVESTISSEMENT"},dt=function(){return{type:ot.FETCH_INVESTISSEMENT_START}},ut=function(e){return{type:ot.FETCH_INVESTISSEMENT_FAILLURE,payload:e}},jt=function(){return function(e){e(dt()),L("user").then((function(e){return L("investissements_by_structure/".concat(e.data.data.structure.id))})).then((function(t){var s;e((s=t.data.data,{type:ot.FETCH_INVESTISSEMENT_BY_STRUCTURE_SUCCESS,payload:s}))})).catch((function(t){e(ut(t.message))}))}},mt=function(){return function(e){e(dt()),L("investissements").then((function(t){var s;e((s=t.data.data,{type:ot.FETCH_INVESTISSEMENT_SUCCESS,payload:s}))})).catch((function(t){e(ut(t.message))}))}},bt=function(e){return function(t){t(dt()),M("investissements",e).then((function(e){t(function(e){return{type:ot.FETCH_INVESTISSEMENT_BY_ID_SUCCESS,payload:e}}(e.data.data))})).catch((function(e){t(ut(e.message))}))}},ht=function(e){return function(t){t(dt()),k("investissements",e).then((function(e){var s;t((s=e.data.data,{type:ot.STORE_INVESTISSEMENT_SUCCESS,payload:s})),console.log(),E.b.success(e.data.message,{position:"top-right",autoClose:5e3,className:"success-alert",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){E.b.error(e.response.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),console.log(e),t(ut(e.message))}))}},pt=function(e){return e.investissement},Ot=Object(v.a)([pt],(function(e){return e.investissementsByStructure})),xt=Object(v.a)([pt],(function(e){return e.investissements})),vt=Object(v.a)([pt],(function(e){return e.isFetching})),ft=Object(v.a)([pt],(function(e){return e.investissementById})),gt={FETCH_USER_BY_ID:"FETCH_USER_BY_ID",RESET_EDITED_USER:"RESET_EDITED_USER",ACTIVE_STATUS_USER:"ACTIVE_STATUS_USER",FETCH_USER_START:"FETCH_USER_START",FETCH_USER_SUCCESS:"FETCH_USER_SUCCESS",FETCH_USER_FAILLURE:"FETCH_USER_FAILLURE",FETCH_CURRENT_USER_SUCCESS:"FETCH_CURRENT_USER_SUCCESS",STORE_USER_SUCCESS:"STORE_USER_SUCCESS",UPDATE_USER_SUCCESS:"UPDATE_USER_SUCCESS",UPDATE_CURRENT_USER_SUCCESS:"UPDATE_CURRENT_USER_SUCCESS",REMOVE_USER_SUCCESS:"REMOVE_USER_SUCCESS"},Nt=function(){return{type:gt.FETCH_USER_START}},Et=function(e){return{type:gt.FETCH_USER_FAILLURE,payload:e}},_t=function(e){return{type:gt.STORE_USER_SUCCESS,payload:e}},St=function(){return function(e){e(Nt()),L("user").then((function(t){var s;e((s=t.data.data,{type:gt.FETCH_CURRENT_USER_SUCCESS,payload:s}))})).catch((function(t){e(Et(t.message))}))}},yt=function(){return function(e){e(Nt()),L("users").then((function(t){var s;e((s=t.data.data,{type:gt.FETCH_USER_SUCCESS,payload:s}))})).catch((function(t){e(Et(t.message))}))}},Ct=function(e){return function(t){t(Nt()),M("users",e).then((function(e){t(function(e){return{type:gt.FETCH_USER_BY_ID,payload:e}}(e.data.data))})).catch((function(e){t(Et(e.message))}))}},Tt=function(e){return function(t){t(Nt()),M("users/status",e).then((function(e){t(function(e){return{type:gt.ACTIVE_STATUS_USER,payload:e}}(e.data.data)),E.b.success(e.data.message,{position:"top-right",autoClose:5e3,className:"success-alert",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){E.b.error(e.response.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t(Et(e.message))}))}},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(s){s(Nt()),k("users/".concat(e),t).then((function(e){s(_t(e.data.data)),E.b.success(e.data.message,{position:"top-right",autoClose:5e3,className:"success-alert",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){E.b.error(e.response.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s(Et(e.message))}))}},wt=function(e,t){return function(s){s(Nt()),V("users",e,t).then((function(e){var t;s((t=e.data.data,{type:gt.UPDATE_USER_SUCCESS,payload:t}))})).catch((function(e){s(Et(e.message))}))}},Rt=function(e,t){return function(s){s(Nt()),A("users",e,t).then((function(){s(function(e){return{type:gt.REMOVE_USER_SUCCESS,payload:e}}(e))})).catch((function(e){s(Et(e.message))}))}};var Ut=Object(v.b)({sourceFinancements:ke,errorMessage:ee}),Ft=Object(x.b)(Ut,(function(e){return{initSourceFiancementList:function(){return e(Xe())},resetStructure:function(){return e(q())},storeInvestissement:function(){return e(ht())}}}))((function(e){var t,s,n,i,a,l,o,u,m,p,x,v,f,g,N,E,_,S,y,C,T,I,w,R,U,F,L,M,k=window.$,D=Object(d.a)({mode:"all"}),V=D.register,B=D.handleSubmit,P=(D.control,D.watch,D.getValues),H=D.clearErrors,X=D.reset,q=D.formState,z=q.errors,Y=(q.isValid,Object(c.useState)([{title:"infos sur l'investissement"},{title:"Recap"}])),G=Object(O.a)(Y,2),$=G[0],J=(G[1],Object(c.useState)()),Z=Object(O.a)(J,2),K=(Z[0],Z[1]),Q=Object(c.useState)(),W=Object(O.a)(Q,2),ee=W[0],te=W[1],se=Object(c.useState)(null),ce=Object(O.a)(se,2),ne=ce[0],ie=ce[1],ae=Object(c.useState)([{libelle:"",montant:""}]),re=Object(O.a)(ae,2),le=(re[0],re[1],Object(c.useState)([])),oe=Object(O.a)(le,2),de=oe[0],ue=oe[1],je=Object(c.useState)([]),me=Object(O.a)(je,2),be=me[0],he=me[1],pe=Object(c.useState)(0),xe=Object(O.a)(pe,2),ve=xe[0],ge=xe[1],Ne=Object(c.useState)(0),Ee=Object(O.a)(Ne,2),_e=Ee[0],Te=Ee[1],Ie=Object(c.useState)(!1),we=Object(O.a)(Ie,2),Re=(we[0],we[1]),Ue=Object(c.useState)({}),Fe=Object(O.a)(Ue,2),Ae=Fe[0],Le=(Fe[1],Object(c.useState)()),Me=Object(O.a)(Le,2),ke=Me[0],De=(Me[1],Object(c.useState)(!1)),Ve=Object(O.a)(De,2),Be=Ve[0],Pe=Ve[1];Object(c.useEffect)((function(){var t,s,c,n,i,a,r;X(),ue(null===(t=e.investissementsById)||void 0===t||null===(s=t.piliers)||void 0===s?void 0:s.map((function(e){return{id:e.id,pilier:e.libelle,axe:e.axes.map((function(e){return{id:e.id,libelle:e.libelle,investissement:{id:e.nature[0].id,montant_prevu:e.nature[0].montant_prevu,montant_mobilise:e.nature[0].montant_mobilise,montant_execute:e.nature[0].montant_execute},bien_et_service:{id:e.nature[1].id,montant_prevu:e.nature[1].montant_prevu,montant_mobilise:e.nature[1].montant_mobilise,montant_execute:e.nature[1].montant_execute}}}))}}))),he(null===(c=e.investissementsById)||void 0===c?void 0:c.mode_financement.map((function(e){return{id:e.id,libelle:e.libelle,montant:e.montant}}))),ie(!["Subvention","Recette","Transfert","Don"].includes(null===(n=e.investissementsById)||void 0===n||null===(i=n.mode_financement[(null===(a=e.investissementsById)||void 0===a||null===(r=a.mode_financement)||void 0===r?void 0:r.length)-1])||void 0===i?void 0:i.libelle))}),[e.investissementsById]);var He,Xe=function(e){return function(t){if("undefined"===typeof be[e]){switch(be[e]={id:null,montant:t.target.value},e){case 0:be[e].libelle="Subvention";break;case 1:be[e].libelle="Transfert";break;case 2:be[e].libelle="Recette";break;case 3:be[e].libelle="Don"}Object.keys(be).forEach((function(e){void 0===be[e]&&delete be[e]})),he(Object(fe.a)(be))}Object.keys(be).forEach((function(e){void 0===be[e]&&delete be[e]}));var s=be[e];s.montant=t.target.value,be[e]=s,he(Object(fe.a)(be))}},qe=function(){ge((function(e){return e+1})),Te((function(e){return e+1}))},ze=function(){ge((function(e){return e-1})),Te((function(e){return e-1}))},Ye=(null===(t=e.collectiviteList)||void 0===t||t.filter((function(e){return"Region"===e.type_collectivite})),function(){return Object(h.jsxs)("button",{style:{display:0!=ve?"block":"none"},onClick:ze,type:"button",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-arrow-left mdi-18px text-white align-left"}),"Pr\xe9c\xe9dent"]})}),Ge=function(e,t,s,c){return function(n){var i=de[e];i.axe[t][s][c]=n.target.value,de[e]=i,ue(Object(fe.a)(de))}},$e=function(e){return function(t){var s=de[e];s.pilier=t.target.value,s.optionAxies=Ce[t.target.value],de[e]=s,ue(Object(fe.a)(de)),K(Ce[t.target.value])}},Je=function(){var t=Object(ye.a)(Se.a.mark((function t(s,c){var n,i,a,r,l,o;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in s.structure_id=null===(n=e.investissementsById)||void 0===n||null===(i=n.structure)||void 0===i?void 0:i.id,s.investissement_id=null===(a=e.investissementsById)||void 0===a?void 0:a.id,s.paquet_sante_intervention=null===ke||void 0===ke?void 0:ke.join(),s.mecanisme_financement&&"Autres"===s.mecanisme_financement&&s.autre_mecanisme_financement&&(s.mecanisme_financement=s.autre_mecanisme_financement),s.monnaie&&"Autre"===s.monnaie&&s.autre_monnaie&&(s.monnaie=s.autre_monnaie),r=new FormData,Object.entries(Ae).forEach((function(e){return r.append(e[0],e[1])})),l=function(e){s[e]&&(Array.isArray(s[e])?s[e].forEach((function(t){return r.append(e+"[]",t)})):r.append(e,s[e]))},s)l(o);de.forEach((function(e){r.append("piliers[]",JSON.stringify(e))})),be.forEach((function(e){r.append("mode_finance[]",JSON.stringify(e))})),e.storeStructure("update_investissement",r),X(),k("#editModal").modal("hide"),Te(0),ge(0),e.fetchInvestissement(),ue([]);case 14:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"modal fade bd-example-modal-xl ",id:"editModal",tabIndex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl ",role:"document",children:Object(h.jsxs)("div",{className:"modal-content bg-white",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsxs)("h5",{className:"modal-title",id:"editModalLabel",children:["AJOUT FINACEMENT"," ",null===(s=e.currentUser)||void 0===s||null===(n=s.structure)||void 0===n||null===(i=n.denomination)||void 0===i?void 0:i.toUpperCase()]}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsx)("div",{className:"bg-opacity-10 pb-3 w-100 top-form",style:{marginTop:"-20px",width:"100vw !important"},children:Object(h.jsx)(tt.a,{steps:$,activeStep:_e})}),Object(h.jsxs)("form",{onSubmit:B(Je),children:[ve>=0&&Object(h.jsxs)("section",{style:{display:0===ve?"block":"none"},children:[Object(h.jsx)("div",{className:"bg-white mt-4",children:Object(h.jsxs)("div",{className:" bg-white ",children:[Object(h.jsxs)("div",{className:"row container-fluid m-0",children:[Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Ann\xe9e"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control input-style"},V("annee",{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"annee",placeholder:"Ann\xe9e",defaultValue:null===(a=e.investissementsById)||void 0===a?void 0:a.annee})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend bg-style text-white",children:Object(h.jsx)(b.a,{icon:j.d,className:"mr-1 mb-1"})})})]}),z.annee&&Object(h.jsx)("p",{className:"text-danger mb-0",children:z.annee.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"monnaie",children:"Monnaie"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},V("monnaie",{required:{value:!0,message:"Veuillez choisir la monnaie"}})),{},{onChange:function(e){return te(e.target.value)},id:"monnaie",className:"form-control input-style",children:[Object(h.jsx)("option",{selected:"XOF"==(null===(l=e.investissementsById)||void 0===l?void 0:l.monnaie),value:"XOF",children:"XOF (CFA)"}),Object(h.jsx)("option",{selected:"EURO"==(null===(o=e.investissementsById)||void 0===o?void 0:o.monnaie),value:"EURO",children:"EURO (\u20ac)"}),Object(h.jsx)("option",{selected:"DOLLAR"==(null===(u=e.investissementsById)||void 0===u?void 0:u.monnaie),value:"DOLLAR",children:"DOLLAR ($)"}),Object(h.jsx)("option",{selected:"Autre"==(null===(m=e.investissementsById)||void 0===m?void 0:m.monnaie),value:"Autre",children:"Autre"})]})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend bg-style text-white",children:Object(h.jsx)(b.a,{icon:j.f,className:"mr-1 mb-1"})})})]})]}),"Autre"===ee&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Pr\xe9ciser la monnaie"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},V("autre_monnaie")),{},Object(Oe.a)({placeholder:"Pr\xe9ciser la monnaie"},"placeholder","")))]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border section-style",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Les dimensions du financement"}),Object(h.jsxs)("div",{className:"row mx-1 px-2 d-flex flex-row bg-section",children:[Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},V("mobilisation_ressource")),{},{value:"1",type:"checkbox",id:"mobilisation_ressource",defaultChecked:null===(p=e.investissementsById)||void 0===p||null===(x=p.structure)||void 0===x?void 0:x.mobilisation_ressource})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"inlineCheckbox1",children:"Mobilisation des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},V("mis_en_commun_ressource")),{},{type:"checkbox",id:"mis_en_commun_ressource",defaultChecked:null===(v=e.investissementsById)||void 0===v?void 0:v.structure.mis_en_commun_ressource})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"mis_en_commun_ressource",children:"Mis en commun des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},V("achat_service")),{},{onChange:function(e){Re(e.target.checked)},value:"1",type:"checkbox",id:"achat_service",defaultChecked:null===(f=e.investissementsById)||void 0===f?void 0:f.structure.achat_service})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"achat_service",children:"Achat de services"})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border section-style",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"pb-2 bg-section",children:[Object(h.jsxs)("div",{className:"d-flex flex-wrap mx-1 pt-2 w-100",children:[Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Subvention"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},V("subvention")),{},{onChange:Xe(0),className:"form-control form-control-sm w-20 input-style","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la subvention",defaultValue:null===(g=e.investissementsById)||void 0===g||null===(N=g.mode_financement)||void 0===N||null===(E=N.find((function(e){return"Subvention"==e.libelle})))||void 0===E?void 0:E.montant})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Transfert"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},V("transfert")),{},{onChange:Xe(1),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du transfert",defaultValue:null===(_=e.investissementsById)||void 0===_||null===(S=_.mode_financement)||void 0===S||null===(y=S.find((function(e){return"Transfert"==e.libelle})))||void 0===y?void 0:y.montant})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Recette"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},V("recette")),{},{onChange:Xe(2),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la recette",defaultValue:null===(C=e.investissementsById)||void 0===C||null===(T=C.mode_financement)||void 0===T||null===(I=T.find((function(e){return"Recette"==e.libelle})))||void 0===I?void 0:I.montant})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]}),Object(h.jsxs)("div",{className:"input-group mb-4 col-md-6 right-prepend",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-style bg-opacity-75 text-white text-style",children:"Don"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},V("don")),{},{onChange:Xe(3),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du don",defaultValue:null===(w=e.investissementsById)||void 0===w||null===(R=w.mode_financement)||void 0===R||null===(U=R.find((function(e){return"Don"==e.libelle})))||void 0===U?void 0:U.montant})),Object(h.jsx)("div",{class:"input-group-prepend ",children:Object(h.jsx)("span",{class:"input-group-text style-right-prepend",children:"CFA"})})]})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",{className:"form-check mr-2 big-checkbox",onChange:function(e){e.target.checked?Pe(!0):Pe(!1),e.target.checked?ie(!0):ie(!1),!e.target.checked&&H("autre_mode_montant"),!e.target.checked&&H("autre_mode_libelle")},value:"1",type:"checkbox",defaultChecked:ne}),Object(h.jsx)("label",{className:"form-check-label",children:"Autre"})]}),Be&&Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_libelle",children:"Libell\xe9 du mode de financement"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},V("autre_mode_libelle")),{},{onChange:(He=4,function(e){"undefined"===typeof be[He]&&(be[He]={id:null,libelle:e.target.value},Object.keys(be).forEach((function(e){void 0===be[e]&&delete be[e]})),he(Object(fe.a)(be)));var t=be[He];t.libelle=e.target.value,be[He]=t,Object.keys(be).forEach((function(e){void 0===be[e]&&delete be[e]})),he(Object(fe.a)(be))}),placeholder:"Pr\xe9ciser le mode de fiancement",defaultValue:null===(F=e.investissementsById)||void 0===F||null===(L=F.mode_financement)||void 0===L||null===(M=L.filter((function(e){return"Subvention"!==e.libelle&&"Recette"!==e.libelle&&"Don"!==e.libelle&&"Transfert"!==e.libelle}))[0])||void 0===M?void 0:M.libelle})),z.autre_mode_libelle&&Object(h.jsx)("p",{className:"text-danger mb-0",children:z.autre_mode_libelle.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_motant",children:"Montant"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},V("autre_mode_montant",{required:{value:!0,message:"Veuillez saisir le montant"}})),{},{placeholder:"Le montant"})),z.autre_mode_montant&&Object(h.jsx)("p",{className:"text-danger mb-0",children:z.autre_mode_montant.message})]})]})]})]}),Object(h.jsxs)("fieldset",{className:"row scheduler-border border mb-5 section-style m-0",children:[Object(h.jsxs)("legend",{className:"scheduler-border text-muted pb-4",children:[Object(h.jsx)("div",{className:"col-md-8 pb-2 action-section-ajout",children:Object(h.jsx)("a",{href:"#",onClick:function(){ue((function(e){return[].concat(Object(fe.a)(e),[{id:null,pilier:"",axe:[{libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}]}])}))},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-success",children:[Object(h.jsx)("small",{class:"text-bold",children:"Ajouter Pilier"}),Object(h.jsx)("img",{src:ct,alt:"",class:"ml-1"})]})})}),"Piliers et axes d'intervention"]}),null===de||void 0===de?void 0:de.map((function(e,t){return Object(h.jsx)("div",{class:"row p-3",children:Object(h.jsxs)("div",{className:"row p-4 pt-3 d-flex border m-1 bg-white cadrage control",children:[Object(h.jsx)("div",{className:"offset-md-10 col-md-2 mb-0 pb-0 action-section decale1",children:Object(h.jsx)("a",{href:"#",onClick:function(){return function(e){var t=de[e];return A("investissements/pilier",t.id,t.pilier).then((function(t){!0===t&&(de.splice(e,1),ue(Object(fe.a)(de)))}))}(t)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-danger",children:[Object(h.jsx)("small",{class:"text-bold",children:"Supprimer"}),Object(h.jsx)("img",{src:nt,alt:"",class:"ml-1"})]})})}),Object(h.jsx)("div",{className:"row col-md-12 ",children:Object(h.jsxs)("div",{className:"form-group mb-4",children:[Object(h.jsx)("label",{htmlFor:"pilier",children:"Pilier"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},V("pilier_".concat(t),{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"pilier",onChange:$e(t),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),Object.keys(Ce).map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]}))]})}),e.axe.map((function(s,c){var n,i,a;return Object(h.jsx)("div",{class:"row bg-axe p-4 border cadrage control mt-4",children:Object(h.jsx)("div",{className:"col-md-12 ",children:Object(h.jsxs)("div",{className:"row d-flex no-gutters border-bottom ",children:[Object(h.jsxs)("div",{className:"row col-md-12 mx-1 mb-3",style:{margin:"auto"},children:[Object(h.jsxs)("div",{className:"offset-md-7 col-md-5 mb-0 pb-0 action-section decale",children:[Object(h.jsx)("a",{href:"#",onClick:function(){return function(e){var t=de[e];de[e]=t,t.axe.push({libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}),ue(Object(fe.a)(de))}(t)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-success",children:[Object(h.jsx)("small",{class:"text-bold",children:"Ajouter Axe d'intervention"}),Object(h.jsx)("img",{src:ct,alt:"",class:"ml-1"})]})}),Object(h.jsx)("a",{href:"#",onClick:function(){return function(e,t){var s=de[e],c=s.axe[t].id,n=s.axe[t].libelle;return A("investissements/pilier/axe",c,n).then((function(c){!0===c&&(s.axe.splice(t,1),de[e]=s,ue(Object(fe.a)(de)))}))}(t,c)},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-danger",children:[Object(h.jsx)("small",{class:"text-bold",children:"Supprimer"}),Object(h.jsx)("img",{src:nt,alt:"",class:"ml-1"})]})})]}),Object(h.jsxs)("div",{className:"form-group mx-auto",children:[Object(h.jsx)("label",{htmlFor:"libelle",children:"Axe d'intervention"}),Object(h.jsxs)("select",{name:"libelle",id:"libelle",onChange:(i=t,a=c,function(e){var t=de[i];t.axe[a][e.target.name]=e.target.value,de[i]=t,ue(Object(fe.a)(de))}),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),null===(n=e.optionAxies)||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("option",{value:e[1],children:e[1]},e[c])}))]})]})]}),Object(h.jsxs)("div",{className:"row col-md-12 mx-auto ",children:[Object(h.jsxs)("div",{class:"row cadrage control bg-axe-section-input mb-4",style:{"min-height":"100px"},children:[Object(h.jsx)("div",{class:"col-md-2  bg-axe-section p-4",children:Object(h.jsx)("span",{className:"bg-opacity-75 text-white text-style",children:"Biens et Services"})}),Object(h.jsxs)("div",{class:"row col-md-10 bg-axe-section-input pt-2",children:[Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant pr\xe9vu",children:"Montant pr\xe9vu"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{onChange:Ge(t,c,"bien_et_service","montant_prevu"),type:"number",className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant mobilise",children:"Montant mobilis\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ge(t,c,"bien_et_service","montant_mobilise"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant execute",children:"Montant ex\xe9cut\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ge(t,c,"bien_et_service","montant_execute"),className:"form-control form-control-sm input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]})]})]}),Object(h.jsxs)("div",{class:"row cadrage control bg-axe-section-input mb-3",style:{"min-height":"100px"},children:[Object(h.jsx)("div",{class:"col-md-2  bg-axe-section p-4",children:Object(h.jsx)("span",{className:"bg-opacity-75 text-white text-style pt-3",children:"Investissements"})}),Object(h.jsxs)("div",{class:"row col-md-10 bg-axe-section-input pt-2",children:[Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant prevu",children:"Montant pr\xe9vu"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ge(t,c,"investissement","montant_prevu"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant mobilise",children:"Montant mobilis\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ge(t,c,"investissement","montant_mobilise"),className:"form-control form-control-sm input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 ",children:[Object(h.jsx)("label",{htmlFor:"Montant execute",children:"Montant ex\xe9cut\xe9"}),Object(h.jsxs)("div",{class:"input-group right-prepend",children:[Object(h.jsx)("input",{type:"number",onChange:Ge(t,c,"investissement","montant_execute"),className:"form-control form-control-sm w-20 input-style2","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"XXXXXXXXXX"}),Object(h.jsxs)("div",{class:"input-group-prepend",children:["                        ",Object(h.jsx)("span",{class:"input-group-text style-right-prepend2",children:"CFA"})]})]})]})]})]})]})]},c)})})}))]},t)})}))]})]})}),Object(h.jsxs)("div",{className:" mt-2 float-right",children:[Ye(),Object(h.jsxs)("button",{onClick:qe,type:"button",className:"btn btn-primary",children:["Suivant",Object(h.jsx)(b.a,{className:"ml-2",icon:j.b,size:"lg",role:"button"})]})]})]}),ve>=1&&Object(h.jsxs)("section",{style:{display:1===ve?"block":"none"},children:[Object(h.jsxs)("div",{className:" bg-white row border mx-1 mt-3 p-3",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Ann\xe9e"})," : ",P().annee]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Monnaie"})," : ",P().monnaie]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"dimentions"})," :"," ",P().mobilisation_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mobilisation"}),P().achat_service&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Achat service"}),P().mis_en_commun_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mis en commun"})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"row",children:[P().subvention&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Subvention"})," :"," ",P().subvention]})}),P().transfert&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Transfert"})," :"," ",P().transfert]})}),P().recette&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Recette"})," : ",P().recette]})}),P().don&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Don"})," : ",P().don]})}),P().autre_mode_montant&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:P().autre_mode_libelle})," ",": ",P().autre_mode_montant]})})]})]}),null===de||void 0===de?void 0:de.map((function(e,t){return Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Pilier : ".concat(e.pilier)}),Object(h.jsx)("div",{className:"row mx-1 mb-3 mr-1",children:null===e||void 0===e?void 0:e.axe.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Axe:  ".concat(e.libelle)}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"text-muted",children:"Biens et services"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_execute})]})]})]}),Object(h.jsxs)("div",{className:"col-md-6 border-left",children:[Object(h.jsx)("p",{className:"text-muted",children:"Investissements"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_execute})]})]})]})]})]},t)})}))})]},t)}))]}),Object(h.jsxs)("div",{className:"modal-footer mt-2 d-flex justify-content-between",children:[Ye(),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"}),"Enregistrer"]})]})]})]})]})]})})})})),At=["history","currentUser","fetchInvestissement","fetchInvestissementById","investissementsById","investissements","getCurrentUser","isLoading"];var Lt=Object(v.b)({currentUser:ne,investissementsById:ft,investissements:Ot,isLoading:vt}),Mt=Object(x.b)(Lt,(function(e){return{fetchInvestissement:function(){return e(jt())},fetchInvestissementById:function(t){return e(bt(t))},getCurrentUser:function(){return e(St())},storeStructure:function(t,s){return e($(t,s))}}}))((function(e){e.history;var t=e.currentUser,s=e.fetchInvestissement,n=e.fetchInvestissementById,i=e.investissementsById,a=e.investissements,o=e.getCurrentUser,d=e.isLoading,u=Object(l.a)(e,At);return Object(c.useEffect)((function(){s()}),[]),Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsx)("h3",{children:"Gestion des investissements"}),Object(h.jsxs)("button",{className:"btn btn-primary btn-sm text-white display1 btn-bar","data-toggle":"modal","data-target":"#exampleModal",children:[Object(h.jsx)(b.a,{icon:j.g,className:"mr-1"}),"Ajouter un investissement"]})]})}),Object(h.jsx)("div",{class:"container-fluid dash-content",children:Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[Object(h.jsx)(at,Object(r.a)(Object(r.a)({},u),{},{fetchInvestissement:s,currentUser:t})),Object(h.jsx)(Ft,Object(r.a)(Object(r.a)({},u),{},{fetchInvestissement:s,currentUser:t,investissementsById:i,isLoading:d})),Object(h.jsx)(lt,{currentUser:t,storeStructure:e.storeStructure,investissements:a,getCurrentUser:o,editInvestisement:function(e){n(e)},isLoading:d})]})})})]})})),kt=s(11),Dt=s(12),Vt=s(19),Bt=s(18),Pt=(s(310),s(95)),Ht=s(136),Xt=s.p+"static/media/logo.c619fd34.svg",qt=function(e){Object(Vt.a)(s,e);var t=Object(Bt.a)(s);function s(e){var c;return Object(kt.a)(this,s),(c=t.call(this,e)).handleSubmit=function(){var e=Object(ye.a)(Se.a.mark((function e(t){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),U("login",c.state).then((function(e){switch(localStorage.setItem("token",e.data.data.token),e.data.data.roles[0]){case"SPS Admin":case"EPS Admin":c.props.history.push("/admin/dashboard");break;case"ONG Admin":c.props.history.push("/admin/structures/ong");break;case"PTF Admin":c.props.history.push("/admin/structures/ptf");break;case"RSE Admin":c.props.history.push("/admin/structures/rse");break;default:c.props.history.push("/admin/dashboard")}console.log("\u2705\u2705",e.data.data.roles[0])})).catch((function(e){e&&(document.getElementById("error").style.display="block")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.handleChange=function(e){var t=e.target,s=t.value,n=t.name;c.setState(Object(Oe.a)({},n,s))},c.state={email:"",password:""},c}return Object(Dt.a)(s,[{key:"render",value:function(){var e;return Object(h.jsx)("div",{className:"sign-in-container",children:Object(h.jsxs)("div",{className:"sign-in-form",children:[Object(h.jsx)("div",{class:"sidebar-header bg-default mb-3",children:Object(h.jsx)("img",(e={src:Xt,alt:"logo"},Object(Oe.a)(e,"alt","MSAS"),Object(Oe.a)(e,"class","app-logo"),e))}),Object(h.jsx)("span",{children:"Identifiez vous pour acc\xe9der \xe0 votre espace"}),Object(h.jsx)("p",{id:"error",style:{color:"red",marginTop:"10px",display:"none"},children:"Email ou mot de passe incorrect"}),Object(h.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(h.jsx)(Pt.a,{name:"email",type:"email",handleChange:this.handleChange,value:this.state.email,label:"email",required:!0}),Object(h.jsx)(Pt.a,{name:"password",type:"password",value:this.state.password,handleChange:this.handleChange,label:"password",required:!0}),Object(h.jsx)("div",{className:"buttons",children:Object(h.jsx)(Ht.a,{type:"submit",children:" Se connecter "})})]})]})})}}]),s}(n.a.Component),zt=(s(313),s(314),s(49),s(50),s(51),s(16));s(315),s(316),s(317);var Yt=s.p+"static/media/lamine.d4c95638.png";var Gt=function(e){var t,s=e.currentUser,c=Object(o.f)();return Object(h.jsxs)("nav",{id:"sidebar",class:"",children:[Object(h.jsx)("div",{class:"sidebar-header bg-default",children:Object(h.jsx)("img",(t={src:Xt,alt:"logo"},Object(Oe.a)(t,"alt","MSAS"),Object(Oe.a)(t,"class","app-logo"),t))}),Object(h.jsxs)("div",{class:"photo",children:[Object(h.jsx)("div",{class:"m-5 mb-1",children:Object(h.jsx)("img",{class:"avatar",src:Yt,alt:""})}),Object(h.jsx)("p",{class:"text-center mb-1 text-secondary",children:"Lamine NDIAYE"}),Object(h.jsx)("p",{class:"text-center mb-4 text-small",children:Object(h.jsx)("span",{children:"Citoyen"})})]}),Object(h.jsxs)("ul",{class:"list-unstyled components",children:[Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/dashboard"===c.pathname?"active":""),to:"/admin/dashboard",children:[Object(h.jsx)(b.a,{icon:j.m}),Object(h.jsx)("span",{className:"menu-title",children:"Tableau de Bord"})]})}),(null===s||void 0===s?void 0:s.roles.includes("Admin"))&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/utilisateurs"===c.pathname?"active":""),to:"/admin/utilisateurs",children:[Object(h.jsx)(b.a,{icon:j.t}),Object(h.jsx)("span",{className:"menu-title",children:"Utilisateurs"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/roles"===c.pathname?"active":""),to:"/admin/roles",children:[Object(h.jsx)(b.a,{icon:j.r}),Object(h.jsx)("span",{className:"menu-title",children:"R\xf4les"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/structures"===c.pathname?"active":""),to:"/admin/structures",children:[Object(h.jsx)(b.a,{icon:j.c}),Object(h.jsx)("span",{className:"menu-title",children:"Structures"})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/investissements"===c.pathname?"active":""),to:"/admin/investissements",children:[Object(h.jsx)(b.a,{icon:j.g}),Object(h.jsx)("span",{className:"menu-title",children:"Investissements"})]})})]}),!(null===s||void 0===s?void 0:s.roles.includes("Admin"))&&Object(h.jsx)("li",{children:Object(h.jsxs)(zt.b,{className:"nav-link ".concat("/admin/structures/prive"===c.pathname?"active":""),to:"/admin/structures/prive",children:[Object(h.jsx)(b.a,{icon:j.g}),Object(h.jsx)("span",{className:"menu-title",children:"Investissement"})]})})]}),Object(h.jsx)("p",{class:"copyright mt-auto",children:"Powered by @IP3-Conseil - 2021"})]})},$t=s.p+"static/media/setting_navbar.04608cfe.svg",Jt=s.p+"static/media/notif_navbar.8adb98d0.svg";var Zt=Object(o.g)(Object(x.b)(null,(function(e){return{setCurrentUser:function(){return e(St())}}}))((function(e){e.currentUser;var t,s,c=e.history;return Object(h.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-white bg-white",children:[Object(h.jsx)("div",{class:"d-flex align-items-center",children:Object(h.jsx)("h4",{class:"app-title mb-0 ml-4",children:"PLATEFORME NUMERIQUE DE SUIVI DU FINANCEMENT DE LA SANTE AU SENEGAL"})}),Object(h.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(h.jsxs)("ul",{class:"nav navbar-nav ml-auto",children:[Object(h.jsx)("li",{class:"nav-item dropdown notifications",children:Object(h.jsxs)("div",{class:"nav-dropdown",children:[Object(h.jsxs)("a",{href:"",class:"nav-item nav-link dropdown-toggle","data-toggle":"dropdown",children:[Object(h.jsx)("img",(t={src:Jt,alt:"logo"},Object(Oe.a)(t,"alt","MSAS"),Object(Oe.a)(t,"class","app-logo"),t)),Object(h.jsx)("span",{class:"nb-notif",children:"3"})]}),Object(h.jsx)("div",{class:"dropdown-menu dropdown-menu-right nav-link-menu dropdown-notif",children:Object(h.jsxs)("ul",{class:"nav-list",children:[Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"#",class:"dropdown-item",children:[Object(h.jsxs)("div",{class:"avatar",children:[Object(h.jsx)("span",{class:"etat enligne"}),Object(h.jsx)("img",{src:"/assets/admin/images/avatar2.jpg",alt:""})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{class:"titre",children:"Modou FALL"}),Object(h.jsx)("p",{class:"texte",children:"Lorem ipsum dolor sit amet"}),Object(h.jsxs)("p",{class:"date",children:[" ",Object(h.jsx)("img",{src:"/assets/admin/images/time.svg",alt:""})," il y a 5mn"]})]})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"#",class:"dropdown-item",children:[Object(h.jsxs)("div",{class:"avatar",children:[Object(h.jsx)("span",{class:"etat enligne"}),Object(h.jsx)("img",{src:"/assets/admin/images/avatar2.jpg",alt:""})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{class:"titre",children:"Modou FALL"}),Object(h.jsx)("p",{class:"texte",children:"Lorem ipsum dolor sit amet"}),Object(h.jsxs)("p",{class:"date",children:[" ",Object(h.jsx)("img",{src:"/assets/admin/images/time.svg",alt:""})," il y a 35mn"]})]})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"#",class:"dropdown-item",children:[Object(h.jsxs)("div",{class:"avatar",children:[Object(h.jsx)("span",{class:"etat enligne"}),Object(h.jsx)("img",{src:"/assets/admin/images/avatar2.jpg",alt:""})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{class:"titre",children:"Modou FALL"}),Object(h.jsx)("p",{class:"texte",children:"Lorem ipsum dolor sit amet"}),Object(h.jsxs)("p",{class:"date",children:[" ",Object(h.jsx)("img",{src:"/assets/admin/images/time.svg",alt:""})," il y a 1h"]})]})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"#",class:"dropdown-item",children:[Object(h.jsxs)("div",{class:"avatar",children:[Object(h.jsx)("span",{class:"etat enligne"}),Object(h.jsx)("img",{src:"/assets/admin/images/avatar2.jpg",alt:""})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{class:"titre",children:"Modou FALL"}),Object(h.jsx)("p",{class:"texte",children:"Lorem ipsum dolor sit amet"}),Object(h.jsxs)("p",{class:"date",children:[" ",Object(h.jsx)("img",{src:"/assets/admin/images/time.svg",alt:""})," il y a 6h"]})]})]})}),Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"#",class:"dropdown-item",children:[Object(h.jsxs)("div",{class:"avatar",children:[Object(h.jsx)("span",{class:"etat enligne"}),Object(h.jsx)("img",{src:"/assets/admin/images/avatar2.jpg",alt:""})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{class:"titre",children:"Modou FALL"}),Object(h.jsx)("p",{class:"texte",children:"Lorem ipsum dolor sit amet"}),Object(h.jsxs)("p",{class:"date",children:[" ",Object(h.jsx)("img",{src:"/assets/admin/images/time.svg",alt:""})," il y a 1j"]})]})]})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#",class:"dropdown-item text-primary justify-content-center font-weight-bold",children:"Voir toutes"})})]})})]})}),Object(h.jsx)("li",{class:"nav-item dropdown notifications",children:Object(h.jsxs)("div",{class:"nav-dropdown",children:[Object(h.jsx)("a",{href:"",class:"nav-item nav-link2 dropdown-toggle user-profile","data-toggle":"dropdown",children:Object(h.jsx)("img",(s={src:$t,alt:"logo"},Object(Oe.a)(s,"alt","MSAS"),Object(Oe.a)(s,"class","app-logo1"),s))}),Object(h.jsx)("div",{class:"dropdown-menu dropdown-menu-right nav-link-menu",children:Object(h.jsxs)("ul",{class:"nav-list",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{role:"button",class:"dropdown-item",onClick:function(){return c.push("/admin/utilisateurs/profile")},children:"Profile"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#",class:"dropdown-item",children:"Messages"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#",class:"dropdown-item",children:"Param\xe8tres"})}),Object(h.jsx)("div",{class:"dropdown-divider"}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{role:"button",onClick:function(){localStorage.removeItem("token"),S.a.post("logout").then((function(){})),c.push("/")},class:"dropdown-item",children:"Logout"})})]})})]})})]})})]})})));var Kt=Object(x.b)((function(e){return{currentUser:e.user.currentUser,isLoading:e.user.isFetching}}),(function(e){return{setCurrentUser:function(){return e(St())}}}))((function(e){var t=e.setCurrentUser,s=e.currentUser,n=(e.isLoading,e.children);return Object(c.useEffect)((function(){t();var e=window.$;e("#sidebarCollapse").on("click",(function(){e("#sidebar").toggleClass("active"),e("#body").toggleClass("active")}))}),[]),Object(h.jsxs)("div",{class:"wrapper",children:[Object(h.jsx)(Gt,{currentUser:s}),Object(h.jsxs)("div",{id:"body",class:"",children:[Object(h.jsx)(Zt,{currentUser:s,setCurrentUser:t}),Object(h.jsx)(E.a,{limit:1}),n]})]})})),Qt=s(141);var Wt=Object(x.b)((function(e){return{acteurFields:e.sourceFinancements.acteurtField}}),(function(e){return{initSourceFinancementList:function(){return e(Xe())},removeActeurField:function(){return e(Be())},addActeurField:function(){return e({type:Ve.ADD_ACCTEUR_FIELD})}}}))((function(e){var t=e.initSourceFinancementList,s=e.storeSourceFinancement,n=e.resetSourceFinancement,i=e.sourceFinancementById,a=e.updateSourceFinancement,l=e.acteurFields,o=Object(d.a)(),u=o.register,j=o.handleSubmit,m=(o.watch,o.reset),b=o.formState.errors,p=Object(c.useState)(0),x=Object(O.a)(p,2),v=x[0],f=x[1];Object(c.useEffect)((function(){m({denomination:null===i||void 0===i?void 0:i.denomination,type_acteur:null===i||void 0===i?void 0:i.type_acteur})}),[i]);var g=function(){m(),n()},N=function(){var e=Object(ye.a)(Se.a.mark((function e(c,n){var r,l,o,d;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.denomination,l=Object(Qt.a)(c.type_acteur),o=l.slice(0),d={denomination:r,type_acteur:o.filter((function(e){return void 0!==e}))},i?(a(i.id,d),console.log("++++UPDATE TESTE++++",d)):(s(d),console.log("++++STORE TESTE++++",d)),_(),t(),g();case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),E=window.$,_=function(){return E("#exampleModal").modal("hide")};return Object(h.jsx)("div",{class:"modal fade",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{class:"modal-dialog",role:"document",children:Object(h.jsxs)("div",{class:"modal-content",children:[Object(h.jsxs)("div",{class:"modal-header",children:[Object(h.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"AJOUT D'UN TYPE DE STRUCTURE"}),Object(h.jsx)("button",{type:"button",onClick:function(){return g()},class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{class:"modal-body",children:Object(h.jsxs)("form",{onSubmit:j(N),children:[Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("div",{class:"form-group",children:[Object(h.jsx)("label",{for:"denomination",children:"Type de structure"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",class:"form-control"},u("denomination",{required:!0})),{},{id:"denomination",placeholder:"la D\xe9nomination"})),b.denomination&&"required"===b.denomination.type&&Object(h.jsx)("span",{class:"text-danger",children:"Veuillez remplir ce champ"})]})}),Object(h.jsxs)("div",{className:" bg-white py-3",children:[Object(h.jsx)("h6",{className:"px-4",children:"Types d'acteur"}),Object(h.jsxs)("div",{className:" bg-white mx-1  py-3",children:[i?Object(fe.a)(Array(i.acteurs.length+v)).map((function(e,t){var s;return Object(h.jsxs)("div",{class:"form-group mx-5",children:[Object(h.jsxs)("label",{for:"type_acteur".concat(t+1),children:["Acteur ",t+1]}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===i||void 0===i||null===(s=i.acteurs[t])||void 0===s?void 0:s.libelle,class:"form-control"},u("type_acteur[".concat(t+1,"]"))),{},{id:"type_addField".concat(t+1),placeholder:"Acteur ".concat(t+1)})),b["type_acteur".concat(t+1)]&&"required"===b["type_acteur".concat(t+1)].type&&Object(h.jsx)("span",{class:"text-danger",children:"Veuillez remplir ce champ"})]},t)})):Object(fe.a)(Array(l)).map((function(e,t){return Object(h.jsxs)("div",{class:"form-group mx-5",children:[Object(h.jsxs)("label",{for:"type_acteur".concat(t+1),children:["Acteur ",t+1]}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",class:"form-control"},u("type_acteur[".concat(t+1,"]"),{required:!0})),{},{id:"type_addField".concat(t+1),placeholder:"Acteur ".concat(t+1)})),b["type_acteur".concat(t+1)]&&"required"===b["type_acteur".concat(t+1)].type&&Object(h.jsx)("span",{class:"text-danger",children:"Veuillez remplir ce champ"})]},t)})),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{type:"button",className:"btn btn-sm float-right ",disabled:"".concat(1===l?"disabled":""),onClick:function(){return f((function(e){return e-1})),void Be()},children:Object(h.jsx)("i",{class:"mdi mdi-delete mdi-18px text-danger "})}),Object(h.jsx)("button",{type:"button",className:"btn btn-sm float-right",onClick:function(){return f((function(e){return e+1})),void e.addActeurField()},children:Object(h.jsx)("i",{class:"mdi mdi-plus mdi-18px text-danger "})})]}),Object(h.jsx)("br",{})]}),Object(h.jsxs)("div",{class:"modal-footer row",children:[Object(h.jsxs)("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal",children:[Object(h.jsx)("i",{class:"mdi mdi-close mdi-18px text-white align-left"})," Annuler"]}),Object(h.jsxs)("button",{type:"submit",class:"btn btn-primary",children:[Object(h.jsx)("i",{class:"mdi mdi-check mdi-18px text-white align-left"})," Enregistrer"]})]})]})})]})})})})),es=["getSourceFinancementList","sourceFinancementList"];var ts=Object(v.b)({sourceFinancementList:ke,sourceFinancementById:De}),ss=Object(x.b)(ts,(function(e){return{resetSourceFinancement:function(){return e({type:Ve.RESET_EDITED_SOURCE_FINANCEMENT})},getSourceFinancementList:function(){return e(Xe())},getSourceFinancementById:function(t){return e(qe(t))},storeSourceFinancement:function(t){return e(ze(t))},updateSourceFinancement:function(t,s){return e(Ye(t,s))},removeSourceFinancement:function(t,s){return e(Ge(t,s))}}}))((function(e){var t=e.getSourceFinancementList,s=e.sourceFinancementList,n=Object(l.a)(e,es);return Object(c.useEffect)((function(){t()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(Wt,Object(r.a)({},n)),Object(h.jsxs)("div",{class:"page-header",children:[Object(h.jsxs)("h3",{class:"page-title",children:[Object(h.jsx)("span",{class:"page-title-icon bg-gradient-primary text-white mr-2",children:Object(h.jsx)("i",{class:"mdi mdi-chart-line"})})," Types de structure"]}),Object(h.jsx)("nav",{"aria-label":"breadcrumb",children:Object(h.jsx)("ul",{class:"breadcrumb",children:Object(h.jsxs)("button",{class:"btn btn-primary text-white display1","data-toggle":"modal","data-target":"#exampleModal",children:[Object(h.jsx)("i",{class:"mdi mdi-plus mdi-18px text-white align-left"})," Type de structure"]})})})]}),Object(h.jsx)("div",{class:"row",children:Object(h.jsx)("div",{class:"col-12 grid-margin",children:Object(h.jsx)("div",{class:"card",children:Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("h4",{class:"card-title",children:"Liste des Type de structure"}),Object(h.jsx)("div",{class:"table-responsive",children:Object(h.jsxs)("table",{class:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:" D\xe9nomination "}),Object(h.jsx)("th",{children:" Types d'acteur"}),Object(h.jsx)("th",{children:" Action "})]})}),Object(h.jsx)("tbody",{children:s&&s.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.denomination}),Object(h.jsxs)("td",{children:[" ",t.acteurs.map((function(e){return Object(h.jsx)("div",{className:"badge badge-primary mx-1",children:e.libelle})}))," "]}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("i",{class:"mdi mdi-eye mdi-18px text-primary align-left mx-2"}),Object(h.jsx)("i",{class:"mdi mdi-pencil mdi-18px text-primary align-left mx-2","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return e.getSourceFinancementById(t.id)}}),Object(h.jsx)("i",{class:"mdi mdi-delete mdi-18px text-danger align-left mx-2",onClick:function(){return e.removeSourceFinancement(t.id,t.denomination)}})]})})]})}))})]})})]})})})})]})}));s(318);var cs=function(e){var t=e.initUsersList,s=e.editedUser,n=e.resetUser,i=e.storeUser,a=e.updateUser,l=e.rolesList,o=e.initRoleList,u=e.initStructureData,j=e.structures,m=Object(d.a)(),b=m.register,p=m.handleSubmit,x=(m.watch,m.reset),v=(m.setValue,m.formState.errors),f=Object(c.useState)(),g=Object(O.a)(f,2),N=g[0],E=g[1],_=window.$;Object(c.useEffect)((function(){x({prenom:null===s||void 0===s?void 0:s.prenom,nom:null===s||void 0===s?void 0:s.nom,email:null===s||void 0===s?void 0:s.email,telephone:null===s||void 0===s?void 0:s.telephone}),o(),u(),(0,window.$)("#photo").on("change",y)}),[s]);var S=function(){x(),n(),s&&(_("#role option[data-id="+s.roles[0]+"]").attr("selected",!1),null===j||void 0===j||j.forEach((function(e){_("#structures option[data-id="+e.denomination+"]").attr("selected",!1)})))};function y(){return C.apply(this,arguments)}function C(){return(C=Object(ye.a)(Se.a.mark((function e(){var t,s,c;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=document.getElementById("photo").files,c=s[0],e.next=4,T(c).then((function(e){t=e}));case 4:document.getElementById("avatar").src=t,document.getElementById("avatar").style.display="block",E(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return new Promise((function(t,s){var c=new FileReader;return c.readAsDataURL(e),c.onload=function(){return t(c.result)},c.onerror=function(e){return s(e)},Promise.resolve(c.result)}))}var I=function(){var e=Object(ye.a)(Se.a.mark((function e(c,n){var r,l,o,d,u,j,m;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=c.nom,l=c.prenom,o=c.email,d=c.telephone,u=c.role,j=c.structure_id,m={prenom:l,nom:r,email:o,telephone:d,structure_id:Object(fe.a)(j),photo:N,role:u},s?a(s.id,m):i(m),w(),t(),S();case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),w=function(){return window.$("#exampleModal").modal("hide")};return Object(h.jsx)("div",{className:"modal fade","data-keyboard":"false","data-backdrop":"static",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"AJOUT D'UN UTILISATEUR"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return S()},children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{onSubmit:p(I),children:[Object(h.jsx)("img",{style:{height:"70px",width:"70px",display:"none",borderRadius:"50%"},id:"avatar"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"prenom",children:"Photo"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"file",id:"photo",className:"form-control"},b("photo")),{},{id:"photo",placeholder:"Pr\xe9nom"})),v.photo&&"required"===v.photo.type&&Object(h.jsx)("span",{className:"text-danger",children:"Veuillez remplir ce champ"})]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"prenom",children:"Pr\xe9nom"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},b("prenom",{required:!0})),{},{id:"prenom",placeholder:"Pr\xe9nom"})),v.prenom&&"required"===v.prenom.type&&Object(h.jsx)("span",{className:"text-danger",children:"Veuillez remplir ce champ"})]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"nom",children:"Nom"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},b("nom",{required:!0})),{},{id:"nom",placeholder:"Nom"}))]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"telephone",children:"T\xe9l\xe9phone"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},b("telephone")),{},{id:"telephone",placeholder:"+221 ...."}))]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"email",children:"Email"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},b("email")),{},{id:"email",placeholder:"Email"}))]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"telephone",children:"R\xf4les"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({className:"form-control"},b("role")),{},{id:"role",children:[Object(h.jsx)("option",{value:"",children:"CHoisir..."}),null===l||void 0===l?void 0:l.map((function(e){return Object(h.jsx)("option",{"data-id":e.name,value:e.name,children:e.name},e.id)}))]}))]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"telephone",children:"Structures"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({className:"form-control",multiple:!0},b("structure_id[]")),{},{id:"structures",children:[Object(h.jsx)("option",{value:"",children:"CHoisir..."}),null===j||void 0===j?void 0:j.map((function(e){return Object(h.jsx)("option",{"data-id":e.denomination,value:e.id,children:e.denomination},e.id)}))]}))]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsxs)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return S()},children:[Object(h.jsx)("i",{className:"mdi mdi-close mdi-18px text-white align-left"})," ","Annuler"]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"})," ","Enregistrer"]})]})]})})]})})})},ns={FETCH_ROLE_BY_ID:"FETCH_ROLE_BY_ID",FETCH_ROLE_START:"FETCH_ROLE_START",FETCH_ROLE_SUCCESS:"FETCH_ROLE_SUCCESS",FETCH_ROLE_FAILLURE:"FETCH_ROLE_FAILLURE",STORE_ROLE_SUCCESS:"STORE_ROLE_SUCCESS",UPDATE_ROLE_SUCCESS:"UPDATE_ROLE_SUCCESS",REMOVE_ROLE_SUCCESS:"REMOVE_USER_SUCCESS",FETCH_PERMISSION_SUCCESS:"FETCH_PERMISSION_SUCCESS",RESET_EDITED_ROLE:"RESET_EDITED_ROLE"},is=function(){return{type:ns.FETCH_ROLE_START}},as=function(e){return{type:ns.FETCH_ROLE_FAILLURE,payload:e}},rs=function(){return function(e){e(is()),L("roles").then((function(t){var s;e((s=t.data.data,{type:ns.FETCH_ROLE_SUCCESS,payload:s}))})).catch((function(t){e(as(t.message))}))}},ls=function(e){return function(t){t(is()),M("roles",e).then((function(e){t(function(e){return{type:ns.FETCH_ROLE_BY_ID,payload:e}}(e.data.data))})).catch((function(e){t(as(e.message))}))}},os=function(e){return function(t){t(is()),k("roles",e).then((function(e){var s;t((s=e.data.data,{type:ns.STORE_ROLE_SUCCESS,payload:s}))})).catch((function(e){t(as(e.message))}))}},ds=function(e,t){return function(s){s(is()),V("roles",e,t).then((function(e){var t;s((t=e.data.data,{type:ns.UPDATE_ROLE_SUCCESS,payload:t}))})).catch((function(e){s(as(e.message))}))}},us=function(e,t){return function(s){s(is()),A("roles",e,t).then((function(){s(function(e){return{type:ns.REMOVE_ROLE_SUCCESS,payload:e}}(e))})).catch((function(e){s(as(e.message))}))}},js=function(){return function(e){e(is()),L("permissions").then((function(t){var s;e((s=t.data.data,{type:ns.FETCH_PERMISSION_SUCCESS,payload:s}))})).catch((function(t){e(as(t.message))}))}},ms=function(e){return e.role},bs=Object(v.a)([ms],(function(e){return e.roles})),hs=Object(v.a)([ms],(function(e){return e.permissions})),ps=Object(v.a)([ms],(function(e){return e.roleById})),Os=["usersList","getUserById","removeUser","activateUserStatus"],xs=Object(v.b)({usersList:ce,editedUser:ie,rolesList:bs,structures:Q}),vs=Object(x.b)(xs,(function(e){return{resetUser:function(){return e({type:gt.RESET_EDITED_USER})},getUserById:function(t){return e(Ct(t))},activateUserStatus:function(t){return e(Tt(t))},initUsersList:function(){return e(yt())},storeUser:function(t){return e(It(t))},updateUser:function(t,s){return e(wt(t,s))},removeUser:function(t,s){return e(Rt(t,s))},initRoleList:function(){return e(rs())},initStructureData:function(){return e(z())}}}))((function(e){var t=e.usersList,s=e.getUserById,i=e.removeUser,a=e.activateUserStatus,o=Object(l.a)(e,Os),d=Object(c.useState)(1),u=Object(O.a)(d,2),m=u[0],p=u[1],x=n.a.useMemo((function(){var e=8*(m-1),s=e+8;return null===t||void 0===t?void 0:t.slice(e,s)}),[m,t]);Object(c.useEffect)((function(){e.initUsersList()}),[]);return Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.p,className:"mr-1 mb-1"}),"GESTION DES UTILISATEURS"]}),Object(h.jsxs)("button",{className:"btn btn-primary btn-sm text-white display1 btn-bar","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return s(null),void e.initRoleList()},children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.p,className:"mr-1"})}),"Ajouter un utilisateur"]})]})}),Object(h.jsx)("div",{class:"container-fluid dash-content",children:Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[Object(h.jsx)(cs,Object(r.a)({},o)),Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsx)("h5",{class:"mb-0",children:"Liste des utilisateurs"})}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("table",{class:"table table-hover table-sm table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:" NOM COMPLET"}),Object(h.jsx)("th",{children:" TELEPHONE"}),Object(h.jsx)("th",{children:" EMAIL"}),Object(h.jsx)("th",{children:" R\xd4LE"}),Object(h.jsx)("th",{children:" ETAT"}),Object(h.jsx)("th",{children:" ACTIONS "})]})}),Object(h.jsx)("tbody",{children:null===x||void 0===x?void 0:x.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",Object(h.jsxs)("div",{class:"benef",children:[Object(h.jsx)("span",{class:"avatar-benef",children:Object(h.jsx)("img",{src:t.photo?"".concat(t.photo):"/assets/images/faces/avatar.png"})}),Object(h.jsxs)("span",{class:"nom-benef",children:[t.prenom," ",t.nom]})]})]}),Object(h.jsx)("td",{children:t.telephone}),Object(h.jsx)("td",{children:t.email}),Object(h.jsx)("td",{children:t.roles[0]}),Object(h.jsx)("td",{children:t.actif?Object(h.jsx)("span",{className:"actif",children:"Activ\xe9"}):Object(h.jsx)("span",{className:"complet",children:"Desactiv\xe9"})}),Object(h.jsx)("td",{children:Object(h.jsxs)("span",{children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.l,color:"".concat(t.actif?"red":"green"),role:"button",onClick:function(){return s=t.id,a(s),void e.initUsersList();var s}}),Object(h.jsx)(b.a,{className:"mr-2",icon:j.h,color:"grey",role:"button"}),Object(h.jsx)(b.a,{className:"mr-2",icon:j.o,color:"red",role:"button",onClick:function(){return e=t.id,s=t.prenom,void i(e,s);var e,s}})]})})]})}))})]})]})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 float-right mr-4",currentPage:m,totalCount:t.length,pageSize:8,onPageChange:function(e){return p(e)}})]})})})]})}));s(319);var fs=Object(v.b)({currentUser:ne,isLoading:ae}),gs=Object(x.b)(fs,(function(e){return{setCurrentUser:function(){return e(St())},updateCurrentUser:function(t,s){return e(It(t,s))}}}))((function(e){var t,s=e.currentUser,n=e.setCurrentUser,i=e.updateCurrentUser,a=e.isLoading,l=e.history,o=Object(d.a)(),u=o.register,m=o.handleSubmit,p=(o.watch,o.reset),x=o.formState.errors;Object(c.useEffect)((function(){p({prenom:null===s||void 0===s?void 0:s.prenom,nom:null===s||void 0===s?void 0:s.nom,email:null===s||void 0===s?void 0:s.email,telephone:null===s||void 0===s?void 0:s.telephone})}),[s]),window.$;var v=Object(c.useState)(),g=Object(O.a)(v,2),N=g[0],E=g[1],_=Object(c.useState)(!0),S=Object(O.a)(_,2),y=S[0],C=S[1],T=Object(c.useState)(!1),I=Object(O.a)(T,2),w=I[0],R=I[1],U=Object(c.useState)(!1),F=Object(O.a)(U,2),A=F[0],L=F[1],M=function(e){"user-infos"===e?(C(!0),R(!1),L(!1)):"password"===e?(C(!1),R(!0),L(!1)):"update-info"===e&&(C(!1),R(!1),L(!0))};function k(){return(k=Object(ye.a)(Se.a.mark((function e(){var t,s,c;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=document.getElementById("photo").files,c=s[0],e.next=4,D(c).then((function(e){t=e}));case 4:document.getElementById("avatar").src=t,document.getElementById("avatar").style.display="block",E(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return new Promise((function(t,s){var c=new FileReader;return c.readAsDataURL(e),c.onload=function(){return t(c.result)},c.onerror=function(e){return s(e)},Promise.resolve(c.result)}))}var V={width:"13rem"},B=function(){var e=Object(ye.a)(Se.a.mark((function e(t,s){return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.photo=N,A&&i("update_profile",t),w&&i("update_password",t),n(),s.preventDefault();case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{class:"content",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.s,className:"mr-1 mb-1"}),"PARAMETRAGE PROFILE"]}),Object(h.jsxs)("button",{className:"btn btn-secondary btn-sm text-white display1",onClick:function(){return l.goBack()},children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.a,className:"mr-1"})}),"Retour"]})]}),Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsx)("div",{class:"col-md-12 col-lg-12",children:Object(h.jsx)("div",{class:"card",children:Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("div",{className:"bg-white pb-4",children:[Object(h.jsxs)("div",{className:"p-3",children:[Object(h.jsx)("h5",{children:"Mon profile"}),Object(h.jsx)("h6",{className:"text-muted",children:"D\xe9tails de mon profile"})]}),Object(h.jsxs)("div",{class:"btn-toolbar justify-content-end pt-3",role:"toolbar","aria-label":"Toolbar with button groups",children:[Object(h.jsx)("div",{class:"btn-group mr-1",children:Object(h.jsxs)("button",{type:"button",class:"btn btn-sm  btn-primary",onClick:function(){return M("user-infos")},children:["Mes infos",Object(h.jsx)(b.a,{icon:j.q,className:"ml-1"})]})}),Object(h.jsx)("div",{class:"btn-group mr-1",children:Object(h.jsxs)("button",{type:"button",class:"btn btn-sm btn-danger",onClick:function(){return M("password")},children:["Changer mon mot de passe",Object(h.jsx)(b.a,{icon:j.i,className:"ml-1"})]})}),Object(h.jsx)("div",{class:"btn-group mr-3",role:"group",children:Object(h.jsxs)("button",{type:"button",class:"btn btn-sm btn-info text-white",onClick:function(){return M("update-info")},children:["Mettre \xe0 jour mes infos",Object(h.jsx)(b.a,{icon:j.r,className:"ml-1"})]})})]}),Object(h.jsxs)("div",{className:"row justify-content-end mr-2 mt-3 pb-4",children:[Object(h.jsx)("div",{id:"photo_profile",className:"col-md-3",style:{backgroundImage:"url(".concat(s&&(null===s||void 0===s?void 0:s.photo)?null===s||void 0===s?void 0:s.photo:"/assets/images/faces/avatar.png",")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"350px"}}),y&&Object(h.jsxs)("div",{class:"list-group col-md-8 border rounded",style:{height:"350px"},children:[Object(h.jsxs)("div",{className:"row ml-0   pt-3 border-bottom bg-light ",children:[Object(h.jsx)("strong",{className:"col-md-3",children:"Pr\xe9nom :"}),Object(h.jsx)("p",{className:" col-md-7 text-muted",children:null===s||void 0===s?void 0:s.prenom})]}),Object(h.jsxs)("div",{className:"row ml-0   pt-3 border-bottom  ",children:[Object(h.jsx)("strong",{className:"col-md-3",children:"Nom :"}),Object(h.jsx)("p",{className:" col-md-7 text-muted",children:null===s||void 0===s?void 0:s.nom})]}),Object(h.jsxs)("div",{className:"row ml-0   pt-3 border-bottom bg-light ",children:[Object(h.jsx)("strong",{className:"col-md-3",children:"Email :"}),Object(h.jsx)("p",{className:" col-md-7 text-muted",children:null===s||void 0===s?void 0:s.email})]}),Object(h.jsxs)("div",{className:"row ml-0   pt-3 border-bottom  ",children:[Object(h.jsx)("strong",{className:"col-md-3",children:"T\xe9l\xe9phone :"}),Object(h.jsx)("p",{className:" col-md-7 text-muted",children:null===s||void 0===s?void 0:s.telephone})]}),Object(h.jsxs)("div",{className:"row ml-0   pt-3 border-bottom  bg-light",children:[Object(h.jsx)("strong",{className:"col-md-3",children:"R\xf4le :"}),Object(h.jsx)("p",{className:" col-md-7 text-muted",children:(null===s||void 0===s||null===(t=s.roles)||void 0===t?void 0:t.includes("Admin"))?null===s||void 0===s?void 0:s.roles[0]:"Point focal"})]})]}),w&&Object(h.jsx)("div",{className:"bg-white col-md-8 border rounded",style:{height:"350px"},children:a?Object(h.jsx)(f.a,{count:3,height:"40px",className:"mt-4"}):Object(h.jsxs)("form",{onSubmit:m(B),children:[Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsxs)("div",{class:"input-group mb-3",children:[Object(h.jsx)("div",{class:"input-group-prepend",style:V,children:Object(h.jsx)("span",{class:"input-group-text w-100",id:"basic-addon1",children:"Ancien mot de passe"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},u("old_password",{required:!0})),{},{className:"form-control ".concat(x.old_password&&"is-invalid"),placeholder:"Ancien mot de passe","aria-label":"old_password","aria-describedby":"basic-addon1"}))]}),Object(h.jsxs)("div",{class:"input-group mb-3",children:[Object(h.jsx)("div",{class:"input-group-prepend",style:V,children:Object(h.jsx)("span",{class:"input-group-text w-100 ",id:"basic-addon1",children:"Nouveau mot de passe"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},u("password",{required:!0})),{},{className:"form-control ".concat(x.password&&"is-invalid"),placeholder:"Nouveau mot de passe actuel","aria-label":"password","aria-describedby":"basic-addon1"}))]}),Object(h.jsxs)("div",{class:"input-group mb-3",children:[Object(h.jsx)("div",{class:"input-group-prepend ",style:V,children:Object(h.jsx)("span",{class:"input-group-text w-100",id:"basic-addon1",children:"Confirmation mot de passe"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},u("confirm_password",{required:!0})),{},{className:"form-control ".concat(x.confirm_password&&"is-invalid"),placeholder:"Confirmez votre mode pass","aria-label":"confirm_password","aria-describedby":"basic-addon1"}))]})]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-sm btn-success float-right",style:{position:"absolute",bottom:"-50px",right:"-2px"},children:["Enregistrer",Object(h.jsx)(b.a,{icon:j.e,className:"ml-1"})]})]})}),A&&Object(h.jsx)("ul",{className:"bg-white col-md-8 border rounded",style:{height:"350px"},children:a?Object(h.jsx)(f.a,{count:4,height:"40px",className:"mt-4"}):Object(h.jsxs)("form",{onSubmit:m(B),children:[Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{class:"input-group mb-2 col-md-6",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"Pr\xe9nom"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},u("prenom",{required:!0})),{},{className:"form-control ".concat(x.prenom&&"is-invalid"),placeholder:"Entrez votre pr\xe9nom","aria-label":"prenom","aria-describedby":"basic-addon1"}))]}),Object(h.jsxs)("div",{class:"input-group mb-2 col-md-6",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"Nom"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},u("nom",{required:!0})),{},{className:"form-control ".concat(x.nom&&"is-invalid"),placeholder:"Entrez votre nom","aria-label":"nom","aria-describedby":"basic-addon1"}))]})]}),Object(h.jsxs)("div",{className:"d-flex no-gutters",children:[Object(h.jsxs)("div",{class:"input-group mb-2 col-md-11",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"Photo"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"file"},u("photo")),{},{onChange:function(){!function(){k.apply(this,arguments)}()},class:"form-control","aria-label":"Photo","aria-describedby":"basic-addon1",id:"photo"}))]}),Object(h.jsx)("img",{className:"col-md-1",src:(null===s||void 0===s?void 0:s.photo)?null===s||void 0===s?void 0:s.photo:"/assets/images/faces/avatar.png",style:{height:"50px",width:"70px"},id:"avatar"})]}),Object(h.jsxs)("div",{class:"input-group mb-2",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"Email"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},u("email",{required:!0})),{},{className:"form-control ".concat(x.email&&"is-invalid"),placeholder:"Entrez votre adresse email","aria-label":"email","aria-describedby":"basic-addon1"}))]}),Object(h.jsxs)("div",{class:"input-group mb-2",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text",id:"basic-addon1",children:"T\xe9l\xe9phone"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},u("telephone",{required:!0})),{},{className:"form-control ".concat(x.telephone&&"is-invalid"),placeholder:"Entrez votre N\xb0 t\xe9l\xe9phone","aria-label":"telephone","aria-describedby":"basic-addon1"}))]})]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-sm btn-success float-right",style:{position:"absolute",bottom:"-50px",right:"-2px"},children:["Enregistrer",Object(h.jsx)(b.a,{icon:j.e,className:"ml-1"})]})]})})]})]})]})})})})]})})})),Ns=(s(320),s(52));var Es=function(e){var t=window.$,s=e.initPermissionList,n=e.editedRole,i=e.initRoleList,a=e.resetRole,l=e.storeRole,o=e.updateRole,u=e.PermissionsList,j=Object(d.a)(),m=j.register,b=j.handleSubmit,p=(j.watch,j.reset),O=(j.setValue,j.formState.errors);Object(c.useEffect)((function(){p({name:null===n||void 0===n?void 0:n.name,permission_id:null===n||void 0===n?void 0:n.permission_id}),s()}),[n]);var x=function(){p(),a(),null===n||void 0===n||n.permissions.forEach((function(e){t("#permission option[data-id="+e+"]").attr("selected",!1)}))};null===n||void 0===n||n.permissions.forEach((function(e){t("#permission option[data-id="+e+"]").attr("selected",!0)}));var v=function(){var e=Object(ye.a)(Se.a.mark((function e(t,c){var a,r,d;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.name,r=t.permission_id,d={name:a,permission_id:Object(fe.a)(r)},n?o(n.id,d):l(d),f(),s(),i(),x();case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),f=function(){return window.$("#exampleModal").modal("hide")};return Object(h.jsxs)("div",{className:"modal fade","data-keyboard":"false","data-backdrop":"static",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:[Object(h.jsxs)(Ns.a,{children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css"}),Object(h.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"}),Object(h.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"})]}),Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"AJOUT D'UN R\xd4LES"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return x()},children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{id:"form",onSubmit:b(v),children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"name",children:"Libell\xe9"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",disabled:!0,className:"form-control"},m("name",{required:!0})),{},{id:"name",placeholder:"name"})),O.name&&"required"===O.name.type&&Object(h.jsx)("span",{className:"text-danger",children:"Veuillez remplir ce champ"})]}),Object(h.jsxs)("div",{className:"form-group col-md-6",children:[Object(h.jsx)("label",{htmlFor:"permission_id",children:"Permission"}),Object(h.jsx)("select",Object(r.a)(Object(r.a)({className:"form-control select2",multiple:!0,"data-actions-box":"true","data-live-search":"true"},m("permission_id[]")),{},{id:"permission",children:u.map((function(e){return Object(h.jsx)("option",{"data-id":e.name,value:e.id,children:e.name},e.id)}))}))]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsxs)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return x()},children:[Object(h.jsx)("i",{className:"mdi mdi-close mdi-18px text-white align-left"})," ","Annuler"]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"})," ","Enregistrer"]})]})]})})]})})]})},_s=["rolesList","getRoleById","removeRole"],Ss=Object(v.b)({editedRole:ps,rolesList:bs,PermissionsList:hs}),ys=Object(x.b)(Ss,(function(e){return{resetRole:function(){return e({type:ns.RESET_EDITED_ROLE})},getRoleById:function(t){return e(ls(t))},storeRole:function(t){return e(os(t))},updateRole:function(t,s){return e(ds(t,s))},removeRole:function(t,s){return e(us(t,s))},initRoleList:function(){return e(rs())},initPermissionList:function(){return e(js())}}}))((function(e){var t=e.rolesList,s=e.getRoleById,i=(e.removeRole,Object(l.a)(e,_s)),a=(window.$,Object(c.useState)(1)),o=Object(O.a)(a,2),d=o[0],u=o[1],m=n.a.useMemo((function(){var e=8*(d-1),s=e+8;return null===t||void 0===t?void 0:t.slice(e,s)}),[d,t]);Object(c.useEffect)((function(){e.initRoleList()}),[]);return Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsx)("div",{class:"page-title d-flex align-items-center justify-content-between",children:Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.r,className:"mr-1 mb-1"}),"GESTION DES R\xd4LES"]})})}),Object(h.jsx)("div",{class:"container-fluid dash-content",children:Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[Object(h.jsx)(Es,Object(r.a)({},i)),Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsx)("h5",{class:"mb-0",children:"Liste des r\xf4les"})}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("table",{class:"table table-hover table-sm table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:" LIBELLE"}),Object(h.jsx)("th",{children:" PERMISSIONS"}),Object(h.jsx)("th",{children:" ACTIONS "})]})}),Object(h.jsx)("tbody",{children:null===m||void 0===m?void 0:m.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:e.permissions.map((function(e){return Object(h.jsx)("span",{className:"actif mr-2",children:e})}))})}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:Object(h.jsx)(b.a,{className:"mr-2",icon:j.j,color:"grey",role:"button","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return s(e.id)}})})})]})}))})]})]})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 float-right mr-4",currentPage:d,totalCount:t.length,pageSize:8,onPageChange:function(e){return u(e)}})]})})})]})}));s(321);var Cs=function(e){var t=window.$,s=e.editedDistricte,n=e.initDistricteList,i=e.resetDistricte,a=e.storeDistricte,l=e.updateDistricte,o=e.regionList,u=e.initRegionList,j=e.collectiviteByCodeParent,m=e.collectiviteList,b=e.resetCollectiviteByParentCode,p=Object(d.a)(),x=p.register,v=p.handleSubmit,f=p.reset,g=p.formState.errors,N=Object(c.useState)({}),E=Object(O.a)(N,2),_=E[0],S=E[1],y=Object(c.useState)(),C=Object(O.a)(y,2),T=C[0],I=(C[1],Object(c.useState)()),w=Object(O.a)(I,2),R=w[0];w[1],Object(c.useEffect)((function(){f({name:null===s||void 0===s?void 0:s.name,permission_id:null===s||void 0===s?void 0:s.permission_id}),u(),n()}),[s]),t("#region").on("change",(function(e){var t;b(),S(m.reduce((t=1,function(e,s){return e[s[t]]=s,e}),{}))})),console.log("\u2705 \u2705 \u2705",_);var U=function(){f(),i(),null===s||void 0===s||s.permissions.forEach((function(e){t("#permission option[data-id="+e+"]").attr("selected",!1)}))};null===s||void 0===s||s.permissions.forEach((function(e){t("#permission option[data-id="+e+"]").attr("selected",!0)}));var F=function(){var e=Object(ye.a)(Se.a.mark((function e(t,c){var i,r,o;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.name,r=t.permission_id,o={name:i,permission_id:Object(fe.a)(r)},s?l(s.id,o):a(o),A(),n(),U();case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),A=function(){return window.$("#exampleModal").modal("hide")};return Object(h.jsxs)("div",{className:"modal fade","data-keyboard":"false","data-backdrop":"static",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:[Object(h.jsxs)(Ns.a,{children:[Object(h.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css"}),Object(h.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"}),Object(h.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"})]}),Object(h.jsx)("div",{className:"modal-dialog",role:"document",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"AJOUT D'UN R\xd4LES"}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return U()},children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{id:"form",onSubmit:v(F),children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"name",children:"Libell\xe9"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},x("name",{required:!0})),{},{id:"name",placeholder:"name"})),g.name&&"required"===g.name.type&&Object(h.jsx)("span",{className:"text-danger",children:"Veuillez remplir ce champ"})]}),Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"region",children:"R\xe9gion"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({className:"form-control","data-actions-box":"true","data-live-search":"true"},x("region")),{},{id:"region",children:[Object(h.jsx)("option",{children:"Choisir..."}),o.map((function(e){return Object(h.jsx)("option",{"data-id":e.code,value:e.id,children:e.nom})}))]}))]}),Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"departement",children:"D\xe9partement"}),Object(h.jsx)("select",Object(r.a)(Object(r.a)({className:"form-control","data-actions-box":"true","data-live-search":"true"},x("departement")),{},{id:"departement",children:null===j||void 0===j?void 0:j.map((function(e){return Object(h.jsx)("option",{"data-id":e.nom,value:e.id,children:e.nom})}))}))]}),Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"commune",children:"Commune"}),Object(h.jsx)("select",Object(r.a)(Object(r.a)({className:"form-control","data-actions-box":"true","data-live-search":"true"},x("commune")),{},{id:"commune",children:null===T||void 0===T?void 0:T.map((function(e){return Object(h.jsx)("option",{"data-id":e.nom,value:e.id,children:e.nom})}))}))]}),Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"quartier",children:"Quartiers"}),Object(h.jsx)("select",Object(r.a)(Object(r.a)({className:"form-control","data-actions-box":"true","data-live-search":"true"},x("quartier")),{},{id:"quartier",children:null===R||void 0===R?void 0:R.map((function(e){return Object(h.jsx)("option",{"data-id":e.nom,value:e.id,children:e.nom})}))}))]}),Object(h.jsxs)("div",{className:"form-group col-md-12",children:[Object(h.jsx)("label",{for:"nom",children:"Nom districte"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},x("nom",{required:!0})),{},{id:"nom",placeholder:"nom"})),g.name&&"required"===g.name.type&&Object(h.jsx)("span",{className:"text-danger",children:"Veuillez remplir ce champ"})]})]}),Object(h.jsxs)("div",{className:"modal-footer",children:[Object(h.jsxs)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:function(){return U()},children:[Object(h.jsx)("i",{className:"mdi mdi-close mdi-18px text-white align-left"})," Annuler"]}),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"})," Enregistrer"]})]})]})})]})})]})},Ts={FETCH_DISTRICTE_BY_ID:"FETCH_DISTRICTE_BY_ID",FETCH_DISTRICTE_START:"FETCH_DISTRICTE_START",FETCH_DISTRICTE_SUCCESS:"FETCH_DISTRICTE_SUCCESS",FETCH_DISTRICTE_FAILLURE:"FETCH_DISTRICTE_FAILLURE",STORE_DISTRICTE_SUCCESS:"STORE_DISTRICTE_SUCCESS",UPDATE_DISTRICTE_SUCCESS:"UPDATE_DISTRICTE_SUCCESS",REMOVE_DISTRICTE_SUCCESS:"REMOVE_USER_SUCCESS",RESET_EDITED_DISTRICTE:"RESET_EDITED_DISTRICTE"},Is=function(){return{type:Ts.FETCH_DISTRICTE_START}},ws=function(e){return{type:Ts.FETCH_DISTRICTE_FAILLURE,payload:e}},Rs=function(){return function(e){e(Is()),L("districtes").then((function(t){var s;e((s=t.data.data,{type:Ts.FETCH_DISTRICTE_SUCCESS,payload:s}))})).catch((function(t){e(ws(t.message))}))}},Us=function(e){return function(t){t(Is()),M("districtes",e).then((function(e){t(function(e){return{type:Ts.FETCH_DISTRICTE_BY_ID,payload:e}}(e.data.data))})).catch((function(e){t(ws(e.message))}))}},Fs=function(e){return function(t){t(Is()),k("districtes",e).then((function(e){var s;t((s=e.data.data,{type:Ts.STORE_DISTRICTE_SUCCESS,payload:s}))})).catch((function(e){t(ws(e.message))}))}},As=function(e,t){return function(s){s(Is()),V("districtes",e,t).then((function(e){var t;s((t=e.data.data,{type:Ts.UPDATE_DISTRICTE_SUCCESS,payload:t}))})).catch((function(e){s(ws(e.message))}))}},Ls=function(e,t){return function(s){s(Is()),A("districtes",e,t).then((function(){s(function(e){return{type:Ts.REMOVE_DISTRICTE_SUCCESS,payload:e}}(e))})).catch((function(e){s(ws(e.message))}))}},Ms=function(e){return e.districte},ks=Object(v.a)([Ms],(function(e){return e.districtes})),Ds=Object(v.a)([Ms],(function(e){return e.districteById})),Vs=["districtesList","getDistricteById","removeDistricte"],Bs=Object(v.b)({editedDistricte:Ds,collectiviteByCodeParent:de,districtesList:ks,regionList:oe,collectiviteList:le}),Ps=Object(x.b)(Bs,(function(e){return{resetDistricte:function(){return e({type:Ts.RESET_EDITED_DISTRICTE})},resetCollectiviteByParentCode:function(){return e({type:ue.RESET_COLLECTIVITE_BY_CODE_PARENT})},getDistricteById:function(t){return e(Us(t))},storeDistricte:function(t){return e(Fs(t))},updateDistricte:function(t,s){return e(As(t,s))},removeDistricte:function(t,s){return e(Ls(t,s))},initDistricteList:function(){return e(Rs())},initCollectiviteList:function(){return e(be())},initRegionList:function(){return e(he())},getCollectiviteByParentCode:function(t){return e(pe(t))}}}))((function(e){var t=e.districtesList,s=e.getDistricteById,n=e.removeDistricte,i=Object(l.a)(e,Vs);Object(c.useEffect)((function(){e.initDistricteList(),e.initCollectiviteList()}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)(Cs,Object(r.a)({},i)),Object(h.jsxs)("div",{className:"page-header",children:[Object(h.jsxs)("h3",{className:"page-title",children:[Object(h.jsx)("span",{className:"page-title-icon bg-gradient-primary text-white mr-2",children:Object(h.jsx)("i",{className:"mdi mdi-function"})})," ","Districtes"]}),Object(h.jsx)("nav",{"aria-label":"breadcrumb",children:Object(h.jsx)("ul",{className:"breadcrumb",children:Object(h.jsxs)("button",{className:"btn btn-primary text-white display1","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return s(null),void e.initDistricteList()},children:[Object(h.jsx)("i",{className:"mdi mdi-plus mdi-18px text-white align-left"})," ","Districte"]})})})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-12 grid-margin",children:Object(h.jsx)("div",{className:"card",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h4",{className:"card-title",children:"Liste des districtes"}),Object(h.jsx)("div",{className:"table-responsive",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:" Nom"}),Object(h.jsx)("th",{children:" Collectivit\xe9"}),Object(h.jsx)("th",{children:" Action "})]})}),Object(h.jsx)("tbody",{children:t.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.nom}),Object(h.jsx)("td",{children:t.collectivite.nom}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("i",{className:"mdi mdi-eye mdi-18px text-primary align-left mx-2"}),Object(h.jsx)("i",{className:"mdi mdi-pencil mdi-18px text-primary align-left mx-2","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return s(t.id)}}),Object(h.jsx)("i",{className:"mdi mdi-delete mdi-18px text-danger align-left mx-2",onClick:function(){return s=t.id,c=t.nom,n(s,c),void e.initDistricteList();var s,c}})]})})]},t.id)}))})]})})]})})})})]})}));var Hs=Object(v.b)({structureById:W}),Xs=Object(x.b)(Hs,(function(e){return{getStructureById:function(t){return e(Y(t))}}}))((function(e){var t,s=e.match.params,i=e.structureById,a=e.getStructureById;Object(c.useEffect)((function(){a(s[1])}),[]);var r=Object(c.useState)(1),l=Object(O.a)(r,2),o=l[0],d=l[1],u=n.a.useMemo((function(){var e,t=1*(o-1),s=t+1;return null===i||void 0===i||null===(e=i.investissements)||void 0===e?void 0:e.slice(t,s)}),[o,null===i||void 0===i?void 0:i.investissements]),m=n.a.useCallback((function(e){return e.reduce((function(e,t){return e+parseInt(t.id)}),0)}),[]);return Object(h.jsx)("div",{class:"content ",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsx)("div",{class:"page-title d-flex align-items-center justify-content-between",children:Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.c,className:"mr-1"}),"GESTION DES STRUCTURES / DETAILS"]})}),Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsx)("div",{class:"col-md-12 col-lg-12 ",children:Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsx)("h5",{class:"mb-0",children:null===i||void 0===i?void 0:i.denomination})}),Object(h.jsxs)("div",{class:"card-body ",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("div",{className:"row justify-content-between",children:[Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Informations sur la structure"}),Object(h.jsxs)("div",{className:"row pt-2",children:[Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Source de financement :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.source_financement})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Type :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.type_acteur})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Adresse :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.adresse_siege})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Email :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.email_siege})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"T\xe9l\xe9phone :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.telephone_siege})]}),(null===i||void 0===i?void 0:i.specialite)||(null===i||void 0===i?void 0:i.autre_specialite)&&Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Sp :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.specialite})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3 mt-1",children:"Dimension :"})," ",Object(h.jsxs)("p",{children:[(null===i||void 0===i?void 0:i.mobilisation_ressource)&&Object(h.jsx)("span",{className:"badge badge-primary mr-1 ",children:"Mobilisation"}),(null===i||void 0===i?void 0:i.mis_en_commun_ressource)&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mis en commun"}),(null===i||void 0===i?void 0:i.achat_service)&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Achat de service"})]})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Latitude :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.latitude})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Longitude :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.longitude})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Altitude :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.altitude})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Personne r\xe9sponsable"}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-4 d-flex my-2",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Pr\xe9nom :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.prenom_responsable})]}),Object(h.jsxs)("div",{className:"col-md-4 d-flex my-2",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Nom :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.nom_responsable})]}),Object(h.jsxs)("div",{className:"col-md-4 d-flex my-2",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Email :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.email_responsable})]}),Object(h.jsxs)("div",{className:"col-md-4 d-flex my-2",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"T\xe9l\xe9phone :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.telephone_responsable})]}),Object(h.jsxs)("div",{className:"col-md-4 d-flex mt-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Fonction :"})," ",Object(h.jsx)("p",{children:null===i||void 0===i?void 0:i.fonction_responsable})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Interventions"}),null===i||void 0===i?void 0:i.interventions.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-6 d-flex my-3",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"R\xe9gion :"})," ",Object(h.jsx)("span",{className:"badge badge-primary bg-primary-75 mr-1",children:e.nom})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex my-3",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"District(s) :"})," ",e.districts_interventions.map((function(e){return Object(h.jsx)("span",{className:"badge badge-primary bg-primary-75 mr-1",children:e.nom},e.id)}))]})]},e.id)}))]}),(null===u||void 0===u?void 0:u.length)>0?Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Investissements"}),null===u||void 0===u?void 0:u.map((function(e){return Object(h.jsxs)("div",{className:" mr-4 mb-2",children:[Object(h.jsxs)("h6",{children:["Ann\xe9e ",e.annee]}),Object(h.jsxs)("div",{className:"border row pt-2",children:[Object(h.jsxs)("div",{className:"col-md-6 d-flex mt-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Monnaie :"})," ",Object(h.jsx)("p",{children:null===e||void 0===e?void 0:e.monnaie})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mt-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Total financement :"})," ",Object(h.jsx)("p",{children:"".concat(m(e.mode_financement))})]}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3 mt-1",children:"Mode de Financemnt :"})," ",e.mode_financement.map((function(e){return Object(h.jsx)("p",{children:e.montant&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:e.libelle})},e.id)}))]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3 mt-1",children:"Piliers :"})," ",e.piliers.map((function(e){return Object(h.jsx)("p",{children:Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:e.libelle})},e.id)}))]})]})]},e.id)})),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 mx-auto",currentPage:o,totalCount:(null===i||void 0===i?void 0:i.investissements)?null===i||void 0===i||null===(t=i.investissements)||void 0===t?void 0:t.length:0,pageSize:1,onPageChange:function(e){return d(e)}})]}):""]})]})]})})})]})})}));var qs=Object(v.b)({investissementById:ft}),zs=Object(x.b)(qs,(function(e){return{getInvestissementById:function(t){return e(bt(t))}}}))((function(e){var t,s,n,i,a=e.match.params,r=e.investissementById,l=e.getInvestissementById,o=e.history;return Object(c.useEffect)((function(){l(a.id)}),[]),Object(h.jsx)("div",{class:"content ",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.g,className:"mr-1"}),Object(h.jsx)("span",{role:"button",onClick:function(){return o.push("/admin/investissements")},children:"GESTION INVESTISSEMENTS /"}),Object(h.jsx)("span",{className:"text-primary ml-1",children:"DETAILS"})]}),Object(h.jsxs)("button",{className:"btn btn-secondary btn-sm text-white display1",onClick:function(){return o.goBack()},children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.a,className:"mr-1"})}),"Retour"]})]}),Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsx)("div",{class:"col-md-12 col-lg-12 ",children:Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsxs)("h5",{class:"mb-0",children:["Investissement ann\xe9e ",null===r||void 0===r?void 0:r.annee]})}),Object(h.jsxs)("div",{class:"card-body ",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("div",{className:" justify-content-between",children:[Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Infos primaires"}),Object(h.jsxs)("div",{className:"row pt-2",children:[Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Monnaie :"})," ",Object(h.jsx)("p",{children:null===r||void 0===r?void 0:r.monnaie})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Dimension :"})," ",(null===r||void 0===r||null===(t=r.structure)||void 0===t?void 0:t.mobilisation_ressource)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Mobilisation"}),(null===r||void 0===r||null===(s=r.structure)||void 0===s?void 0:s.mis_en_commun_ressource)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Mise en commun"}),(null===r||void 0===r||null===(n=r.structure)||void 0===n?void 0:n.achat_service)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Achat de service"})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"row pt-2",children:[null===r||void 0===r||null===(i=r.mode_financement)||void 0===i?void 0:i.map((function(e){return Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsxs)("span",{className:"text-muted font-weight-bold mr-3",children:[e.libelle," :"]})," ",Object(h.jsx)("p",{children:e.montant})]})})),(null===r||void 0===r?void 0:r.specialite)||(null===r||void 0===r?void 0:r.autre_specialite)&&Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Sp\xe9cialit\xe9 :"})," ",Object(h.jsx)("p",{children:(null===r||void 0===r?void 0:r.specialite)?null===r||void 0===r?void 0:r.specialite:null===r||void 0===r?void 0:r.autre_specialite})]})]})]}),null===r||void 0===r?void 0:r.piliers.map((function(e,t){return Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:Object(h.jsxs)("p",{children:[Object(h.jsxs)("p",{className:"badge badge-primary mr-2 mt-3",children:["Pilier ",t+1," :"]}),"".concat(e.libelle)]})}),Object(h.jsx)("div",{className:"row mx-1 mb-3 mr-1",children:e.axes.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Axe:  ".concat(e.libelle)}),Object(h.jsx)("div",{className:"row",children:e.nature.map((function(e){return Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"text-muted",children:e.libelle}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_execute})]})]})]},e.id)}))})]})})}))})]},e.id)}))]})]})]})})})]})})}));var Ys=Object(v.b)({investissementById:ft}),Gs=Object(x.b)(Ys,(function(e){return{getInvestissementById:function(t){return e(bt(t))}}}))((function(e){var t,s,n,i,a=e.match.params,r=e.investissementById,l=e.getInvestissementById,o=e.history;return console.log("\ud83d\udd25",r),Object(c.useEffect)((function(){l(a.id)}),[]),Object(h.jsx)("div",{class:"content ",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(b.a,{icon:j.g,className:"mr-1"}),Object(h.jsx)("span",{role:"button",onClick:function(){return o.push("/admin/structures/prive")},children:"GESTION INVESTISSEMENTS /"}),Object(h.jsx)("span",{className:"text-primary ml-1",children:"DETAILS"})]}),Object(h.jsxs)("button",{className:"btn btn-secondary btn-sm text-white display1",onClick:function(){return o.goBack()},children:[Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{icon:j.a,className:"mr-1"})}),"Retour"]})]}),Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsx)("div",{class:"col-md-12 col-lg-12 ",children:Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsxs)("h5",{class:"mb-0",children:["Investissement ann\xe9e ",null===r||void 0===r?void 0:r.annee]})}),Object(h.jsxs)("div",{class:"card-body ",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsxs)("div",{className:" justify-content-between",children:[Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Infos primaires"}),Object(h.jsxs)("div",{className:"row pt-2",children:[Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Monnaie :"})," ",Object(h.jsx)("p",{children:null===r||void 0===r?void 0:r.monnaie})]}),Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Dimension :"})," ",(null===r||void 0===r||null===(t=r.structure)||void 0===t?void 0:t.mobilisation_ressource)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Mobilisation"}),(null===r||void 0===r||null===(s=r.structure)||void 0===s?void 0:s.mis_en_commun_ressource)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Mise en commun"}),(null===r||void 0===r||null===(n=r.structure)||void 0===n?void 0:n.achat_service)&&Object(h.jsx)("p",{className:"badge badge-primary mx-1",children:"Achat de service"})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"row pt-2",children:[null===r||void 0===r||null===(i=r.mode_financement)||void 0===i?void 0:i.map((function(e){return Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsxs)("span",{className:"text-muted font-weight-bold mr-3",children:[e.libelle," :"]})," ",Object(h.jsx)("p",{children:e.montant})]})})),(null===r||void 0===r?void 0:r.specialite)||(null===r||void 0===r?void 0:r.autre_specialite)&&Object(h.jsxs)("div",{className:"col-md-6 d-flex mb-1",children:[Object(h.jsx)("span",{className:"text-muted font-weight-bold mr-3",children:"Sp\xe9cialit\xe9 :"})," ",Object(h.jsx)("p",{children:(null===r||void 0===r?void 0:r.specialite)?null===r||void 0===r?void 0:r.specialite:null===r||void 0===r?void 0:r.autre_specialite})]})]})]}),null===r||void 0===r?void 0:r.piliers.map((function(e,t){return Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:Object(h.jsxs)("p",{children:[Object(h.jsxs)("p",{className:"badge badge-primary mr-2 mt-3",children:["Pilier ",t+1," :"]}),"".concat(e.libelle)]})}),Object(h.jsx)("div",{className:"row mx-1 mb-3 mr-1",children:e.axes.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Axe:  ".concat(e.libelle)}),Object(h.jsx)("div",{className:"row",children:e.nature.map((function(e){return Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"text-muted",children:e.libelle}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.montant_execute})]})]})]},e.id)}))})]})})}))})]},e.id)}))]})]})]})})})]})})}));var $s=Object(v.b)({sourceFinancements:ke,errorMessage:ee}),Js=Object(x.b)($s,(function(e){return{initSourceFiancementList:function(){return e(Xe())},resetStructure:function(){return e(q())}}}))((function(e){e.collectiviteList,e.initStructureData;var t=e.storeStructure,s=(e.allContries,e.isLoading,e.currentUser),n=window.$,i=Object(d.a)({mode:"all"}),a=i.register,l=i.handleSubmit,o=(i.getValues,i.reset),u=i.formState,m=u.errors,p=u.isValid,x=Object(c.useState)(!1),v=Object(O.a)(x,2),f=v[0],g=v[1],N=function(){o(),n("#exampleModal").modal("hide"),n(".chip").remove()},E=function(){var e=Object(ye.a)(Se.a.mark((function e(s,c){var n,i,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=new FormData,i=function(e){s[e]&&(Array.isArray(s[e])?s[e].forEach((function(t){return n.append(e+"[]",t)})):n.append(e,s[e]))},s)i(a);t("step_1",n),N();case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"modal fade bd-example-modal-lg ",id:"exampleModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl ",role:"document",children:Object(h.jsxs)("div",{className:"modal-content bg-white",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:function(){var e,t,c;switch(null===s||void 0===s||null===(e=s.structure)||void 0===e?void 0:e.type_acteur){case"Minist\xe8re":case"Structure de sant\xe9":case"Collectivit\xe9 locale":return"Demande ".concat(null===s||void 0===s||null===(t=s.structure)||void 0===t?void 0:t.denomination);case"Entreprise":return"Offre ".concat(null===s||void 0===s||null===(c=s.structure)||void 0===c?void 0:c.denomination)}}()}),Object(h.jsx)("button",{onClick:function(){return N()},type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsxs)("form",{onSubmit:l(E),encType:"multipart/form-data",children:[Object(h.jsxs)("div",{className:" bg-white",children:[Object(h.jsxs)("div",{className:"row bg-white mx-1  py-1",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"type",children:"Type de besoin"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},a("type_besoin")),{},{className:"form-control",children:[Object(h.jsx)("option",{children:"Choisir..."}),Ie.map((function(e){return Object(h.jsx)("option",{value:e[1],children:e[1]},e[1])}))]})),m.type_besoin&&Object(h.jsx)("p",{className:"text-danger mb-0",children:m.type_besoin.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"type",children:"Niveau d'urgence"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},a("niveau_urgence")),{},{className:"form-control",children:[Object(h.jsx)("option",{children:"Choisir..."}),we.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})),m.niveau_urgence&&Object(h.jsx)("p",{className:"text-danger mb-0",children:m.niveau_urgence.message})]})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm mx-3",children:[Object(h.jsx)("label",{for:"justification_besoin",children:"Justification du besoin"}),Object(h.jsx)("textarea",{className:"form-control",id:"justification_besoin",rows:"5",name:"justification_besoin",placeholder:"Votre text ici....."})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm mx-3",children:[Object(h.jsx)("label",{for:"impact_attendu",children:"Impact attendu"}),Object(h.jsx)("textarea",{className:"form-control",id:"impact_attendu",rows:"5",name:"impact_attendu",placeholder:"Votre text ici....."})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"d-flex ",children:[Object(h.jsxs)("div",{className:"col-md-4  form-check-inline  d-flex",children:[Object(h.jsx)("input",{className:"form-check big-input mx-3",onChange:function(e){e.target.checked?g(!0):g(!1)},value:"1",type:"checkbox"}),Object(h.jsx)("label",{className:"form-check-label",children:"Document de projet ?"})]}),f&&Object(h.jsxs)("div",{className:"form-group  col-md-6",children:[Object(h.jsx)("label",{htmlFor:"latitude",children:"Document"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"file"},a("document",{required:{value:!0,message:"Veuillez uploader un document"}})),{},{className:"form-control input-group-sm"})),m.document&&Object(h.jsx)("p",{className:"text-danger mb-0",children:m.document.message})]})]})})]}),Object(h.jsxs)("div",{className:"modal-footer mt-2 d-flex justify-content-between",children:[Object(h.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return N()},children:["Annuler",Object(h.jsx)(b.a,{icon:j.n,className:"ml-1"})]}),Object(h.jsxs)("button",{disabled:!p,type:"submit",className:"btn btn-success",children:["Enregistrer",Object(h.jsx)(b.a,{icon:j.e,className:"ml-1"})]})]})]})})]})})})})),Zs=Object(o.g)((function(e){var t,s,i,a,l,o,u,m,p,x,v,g,N,E,_=e.currentUser,S=e.storeStructure,y=e.getCurrentUser,C=e.investissements,T=e.isLoading,I=e.history,w=Object(d.a)({mode:"all"}),R=w.register,U=w.handleSubmit,F=(w.getValues,w.setValue),A=(w.reset,w.formState),L=A.errors,M=(A.isValid,window.$,Object(c.useState)(!1)),k=Object(O.a)(M,2),D=k[0],V=k[1],B=Object(c.useState)(!1),P=Object(O.a)(B,2),H=P[0],X=P[1],q=Object(c.useState)(1),z=Object(O.a)(q,2),Y=z[0],G=z[1],$=n.a.useMemo((function(){var e=8*(Y-1),t=e+8;return null===C||void 0===C?void 0:C.slice(e,t)}),[Y,C]),J=(Object(st.a)(),n.a.useCallback((function(){X(!0)}),[H])),Z=function(){var e=Object(ye.a)(Se.a.mark((function e(t,s){var c,n,i;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in D&&(t.latitude="14.7510199",t.longitude="-17.4535678",t.altitude="16.142"),c=new FormData,n=function(e){t[e]&&(Array.isArray(t[e])?t[e].forEach((function(t){return c.append(e+"[]",t)})):c.append(e,t[e]))},t)n(i);S("update_basic_info",c),X(!1),V(!1),y();case 8:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{class:"row mb-4  ",children:Object(h.jsx)("div",{class:"col-md-12",children:Object(h.jsxs)("div",{class:" recherche-avance",children:[Object(h.jsx)("div",{class:"card-header"}),Object(h.jsx)("div",{class:"",children:Object(h.jsx)("div",{className:"mt-1 pb-3",style:{height:"auto",background:"white",marginTop:"-15px"},children:H?Object(h.jsx)("div",{className:"card-body",style:{marginTop:"-20px"},children:Object(h.jsx)("form",{onSubmit:U(Z),children:Object(h.jsxs)("div",{className:"",children:[Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Infos structure"}),Object(h.jsx)("div",{className:"row bg-white mx-1",children:Object(h.jsxs)("div",{className:"row ml-3",children:[Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Adresse"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},R("adresse_siege",{required:{value:!0,message:"Veuillez saisir l'adresse"}})),{},{className:"form-control",id:"longitude",defaultValue:null===_||void 0===_||null===(m=_.structure)||void 0===m?void 0:m.adresse_siege})),L.adresse_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.adresse_siege.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Email"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===_||void 0===_||null===(p=_.structure)||void 0===p?void 0:p.email_siege},R("email_siege",{required:{value:!0,message:"Veuillez saisir l'email"}})),{},{className:"form-control",id:"longitude"})),L.email_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.email_siege.message})]}),Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"T\xe9l\xe9phone"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===_||void 0===_||null===(x=_.structure)||void 0===x?void 0:x.telephone_siege},R("telephone_siege",{required:{value:!0,message:"Veuillez saisir le t\xe9l\xe9phone"}})),{},{className:"form-control",id:"longitude"})),L.telephone_siege&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.telephone_siege.message})]})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"G\xe9olocalisation"}),Object(h.jsx)("div",{className:"row bg-white ",children:Object(h.jsxs)("div",{className:"d-flex ",children:[Object(h.jsxs)("div",{className:"col-md-4  form-check-inline  d-flex",children:[Object(h.jsx)("input",{className:"form-check big-input",onChange:function(e){e.target.checked?V(!0):V(!1),e.target.checked&&(F("latitude","14.7510199"),F("longitude","-17.4535678"),F("altitude","16.142"))},value:"1",type:"checkbox"}),Object(h.jsx)("label",{className:"form-check-label",children:"R\xe9cup\xe9rer ma position actuelle ?"})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"latitude",children:"Latitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===_||void 0===_||null===(v=_.structure)||void 0===v?void 0:v.latitude},R("latitude",{required:{value:!0,message:"Veuillez saisir la latitude"}})),{},{className:"form-control input-group-sm latitude",disabled:D})),L.latitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.latitude.message})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"longitude",children:"Longitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===_||void 0===_||null===(g=_.structure)||void 0===g?void 0:g.longitude},R("longitude",{required:{value:!0,message:"Veuillez saisir la longitude"}})),{},{className:"form-control input-group-sm longitude",disabled:D,id:"longitude"})),L.longitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.longitude.message})]}),Object(h.jsxs)("div",{className:"form-group  col-md-2",children:[Object(h.jsx)("label",{htmlFor:"altitude",children:"Altitude"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",defaultValue:null===_||void 0===_||null===(N=_.structure)||void 0===N?void 0:N.altitude},R("altitude",{required:{value:!0,message:"Veuillez saisir l'altitude"}})),{},{className:"form-control input-group-sm altitude",disabled:D,id:"altitude"})),L.altitude&&Object(h.jsx)("p",{className:"text-danger mb-0",children:L.altitude.message})]})]})})]}),Object(h.jsxs)("div",{className:"d-flex  justify-content-between mt-3",children:[Object(h.jsxs)("button",{type:"button",className:"float-right btn btn-sm btn-light ",onClick:function(){return X(!1)},children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.n,size:"lg",color:"grey",role:"button"}),Object(h.jsx)("strong",{className:"text-default",children:"Annuler"})]}),Object(h.jsxs)("button",{type:"submit",className:"float-right btn btn-sm btn-success",children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.e,size:"lg",color:"white",role:"button"}),Object(h.jsx)("strong",{children:"Valider"})]})]})]})})}):Object(h.jsxs)("div",{className:"card-body pb-4",style:{marginTop:"-20px"},children:[T?Object(h.jsx)(f.a,{count:1,height:"120px"}):Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Source de fiancement :"})," ",null===_||void 0===_||null===(t=_.structure)||void 0===t?void 0:t.source_financement]}),Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Type acteur :"})," ",null===_||void 0===_||null===(s=_.structure)||void 0===s?void 0:s.type_acteur]}),(null===_||void 0===_||null===(i=_.structure)||void 0===i?void 0:i.categorie_rse)&&Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Cat\xe9gorie :"})," ",null===_||void 0===_||null===(a=_.structure)||void 0===a?void 0:a.categorie_rse]}),Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Adresse :"})," ",null===_||void 0===_||null===(l=_.structure)||void 0===l?void 0:l.adresse_siege]}),Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"Email :"})," ",null===_||void 0===_||null===(o=_.structure)||void 0===o?void 0:o.email_siege]}),Object(h.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(h.jsx)("label",{className:"text-muted",children:"T\xe9l\xe9phone :"})," ",null===_||void 0===_||null===(u=_.structure)||void 0===u?void 0:u.telephone_siege]})]}),Object(h.jsxs)("button",{onClick:function(){return J()},type:"submit",className:"float-right btn btn-sm btn-primary",children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.j,size:"lg",color:"white",role:"button"}),Object(h.jsx)("strong",{className:"text-white",children:"Modifier"})]})]})})})]})})}),!H&&Object(h.jsxs)("div",{class:"card",children:[Object(h.jsxs)("div",{class:"card-header",children:[Object(h.jsx)("h5",{class:"mb-0",children:null===_||void 0===_||null===(E=_.structure)||void 0===E?void 0:E.denomination}),Object(h.jsx)("div",{class:"dropdown exporter"})]}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),Object(h.jsx)("div",{children:T?Object(h.jsx)("div",{className:"",children:Object(h.jsx)(f.a,{count:7,height:"40px"})}):Object(h.jsxs)("div",{className:"mt-3",style:{height:"auto",background:"white"},children:[Object(h.jsxs)("table",{class:"table table-hover table-sm table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Ann\xe9"}),Object(h.jsx)("th",{children:"MONNAIE"}),Object(h.jsx)("th",{children:"MODE FINANCEMENT"}),Object(h.jsx)("th",{children:"PILIER"}),Object(h.jsx)("th",{children:"ACTIONS"})]})}),Object(h.jsx)("tbody",{children:null===$||void 0===$?void 0:$.map((function(e){var t;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.annee}),Object(h.jsx)("td",{children:e.monnaie}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:e.mode_financement.map((function(e){return e.montant&&Object(h.jsx)("span",{className:"actif mr-1",children:e.libelle})}))})}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"d-flex",children:null===(t=e.piliers)||void 0===t?void 0:t.map((function(e){return Object(h.jsx)("span",{className:"actif mr-1",children:e.libelle})}))})}),Object(h.jsx)("td",{children:Object(h.jsx)("span",{children:Object(h.jsx)(b.a,{className:"mr-2",icon:j.h,color:"grey",role:"button",onClick:function(){return I.push("/admin/investissements/".concat(e.id))}})})})]},e.id)}))})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 mx-auto",currentPage:Y,totalCount:null===C||void 0===C?void 0:C.length,pageSize:8,onPageChange:function(e){return G(e)}})]})})]})]})]})})),Ks=["history","currentUser","fetchInvestissement","investissements","getCurrentUser","isLoading"];var Qs=Object(v.b)({currentUser:ne,investissements:Ot,isLoading:vt}),Ws=Object(x.b)(Qs,(function(e){return{fetchInvestissement:function(){return e(jt())},getCurrentUser:function(){return e(St())},storeStructure:function(t,s){return e($(t,s))}}}))((function(e){e.history;var t=e.currentUser,s=e.fetchInvestissement,n=e.investissements,i=e.getCurrentUser,a=e.isLoading,o=Object(l.a)(e,Ks);return Object(c.useEffect)((function(){s()}),[]),Object(h.jsx)("div",{class:"content",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsxs)("div",{class:"page-title d-flex align-items-center justify-content-between",children:[Object(h.jsxs)("h3",{children:[Object(h.jsx)(b.a,{icon:j.g,className:"mr-1 mb-1"}),"ESPACE RSE"]}),Object(h.jsxs)("button",{className:"btn btn-primary btn-sm text-white display1","data-toggle":"modal","data-target":"#exampleModal",children:[Object(h.jsx)(b.a,{icon:j.g,className:"mr-1"}),function(){var e;switch(null===t||void 0===t||null===(e=t.structure)||void 0===e?void 0:e.type_acteur){case"Minist\xe8re":case"Structure de sant\xe9":case"Collectivit\xe9 locale":return"Faire une demande";case"Entreprise":return"Faire une offre"}}()]})]}),Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[Object(h.jsx)(Js,Object(r.a)(Object(r.a)({},o),{},{fetchInvestissement:s,currentUser:t})),Object(h.jsx)(Zs,{currentUser:t,storeStructure:e.storeStructure,investissements:n,getCurrentUser:i,isLoading:a})]})})]})})}));var ec=Object(v.b)({sourceFinancements:ke,errorMessage:ee}),tc=Object(x.b)(ec,(function(e){return{initSourceFiancementList:function(){return e(Xe())},resetStructure:function(){return e(q())},storeInvestissement:function(){return e(ht())},storeStructure:function(t,s){return e($(t,s))}}}))((function(e){var t,s,n,i,a,l,o,u,m,p,x,v,f,g,N,E,_,S,y,C,T,I,w,R,U,F,L,M,k,D,V,B,P=window.$,H=Object(d.a)({mode:"all"}),X=H.register,q=H.handleSubmit,z=(H.control,H.watch,H.getValues),Y=H.clearErrors,G=H.reset,$=H.formState,J=$.errors,Z=($.isValid,Object(c.useState)([{title:"infos sur l'investissement"},{title:"Recap"}])),K=Object(O.a)(Z,2),Q=K[0],W=(K[1],Object(c.useState)()),ee=Object(O.a)(W,2),te=(ee[0],ee[1]),se=Object(c.useState)(),ce=Object(O.a)(se,2),ne=ce[0],ie=ce[1],ae=Object(c.useState)(null),re=Object(O.a)(ae,2),le=re[0],oe=re[1],de=Object(c.useState)([{libelle:"",montant:""}]),ue=Object(O.a)(de,2),je=(ue[0],ue[1],Object(c.useState)([])),me=Object(O.a)(je,2),be=me[0],he=me[1],pe=Object(c.useState)([]),xe=Object(O.a)(pe,2),ve=xe[0],ge=xe[1],Ne=Object(c.useState)(0),Ee=Object(O.a)(Ne,2),_e=Ee[0],Te=Ee[1],Ie=Object(c.useState)(0),we=Object(O.a)(Ie,2),Re=we[0],Ue=we[1],Fe=Object(c.useState)(!1),Ae=Object(O.a)(Fe,2),Le=(Ae[0],Ae[1]),Me=Object(c.useState)({}),ke=Object(O.a)(Me,2),De=ke[0],Ve=(ke[1],Object(c.useState)()),Be=Object(O.a)(Ve,2),Pe=Be[0],He=(Be[1],Object(c.useState)(!1)),Xe=Object(O.a)(He,2),qe=(Xe[0],Xe[1]);Object(c.useEffect)((function(){var t,s,c,n,i,a,r;G(),he(null===(t=e.investissementsById)||void 0===t||null===(s=t.piliers)||void 0===s?void 0:s.map((function(e){return{id:e.id,pilier:e.libelle,axe:e.axes.map((function(e){return{id:e.id,libelle:e.libelle,investissement:{id:e.nature[0].id,montant_prevu:e.nature[0].montant_prevu,montant_mobilise:e.nature[0].montant_mobilise,montant_execute:e.nature[0].montant_execute},bien_et_service:{id:e.nature[1].id,montant_prevu:e.nature[1].montant_prevu,montant_mobilise:e.nature[1].montant_mobilise,montant_execute:e.nature[1].montant_execute}}}))}}))),ge(null===(c=e.investissementsById)||void 0===c?void 0:c.mode_financement.map((function(e){return{id:e.id,libelle:e.libelle,montant:e.montant}}))),oe(!["Subvention","Recette","Transfert","Don"].includes(null===(n=e.investissementsById)||void 0===n||null===(i=n.mode_financement[(null===(a=e.investissementsById)||void 0===a||null===(r=a.mode_financement)||void 0===r?void 0:r.length)-1])||void 0===i?void 0:i.libelle))}),[e.investissementsById]),console.log(e.investissementsById);var ze,Ye=function(e){return function(t){if("undefined"===typeof ve[e]){switch(ve[e]={id:null,montant:t.target.value},e){case 0:ve[e].libelle="Subvention";break;case 1:ve[e].libelle="Transfert";break;case 2:ve[e].libelle="Recette";break;case 3:ve[e].libelle="Don"}Object.keys(ve).forEach((function(e){void 0===ve[e]&&delete ve[e]})),ge(Object(fe.a)(ve))}Object.keys(ve).forEach((function(e){void 0===ve[e]&&delete ve[e]}));var s=ve[e];s.montant=t.target.value,ve[e]=s,ge(Object(fe.a)(ve))}},Ge=function(){Te((function(e){return e+1})),Ue((function(e){return e+1}))},$e=function(){Te((function(e){return e-1})),Ue((function(e){return e-1}))},Je=(null===(t=e.collectiviteList)||void 0===t||t.filter((function(e){return"Region"===e.type_collectivite})),function(){return Object(h.jsxs)("button",{style:{display:0!=_e?"block":"none"},onClick:$e,type:"button",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-arrow-left mdi-18px text-white align-left"}),"Pr\xe9c\xe9dent"]})}),Ze=function(e,t,s,c){return function(n){var i=be[e];i.axe[t][s][c]=n.target.value,be[e]=i,he(Object(fe.a)(be))}},Ke=function(e){return function(t){var s=be[e];s.pilier=t.target.value,s.optionAxies=Ce[t.target.value],be[e]=s,he(Object(fe.a)(be)),te(Ce[t.target.value])}},Qe=function(){var t=Object(ye.a)(Se.a.mark((function t(s,c){var n,i,a,r,l,o;return Se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in s.structure_id=null===(n=e.investissementsById)||void 0===n||null===(i=n.structure)||void 0===i?void 0:i.id,s.investissement_id=null===(a=e.investissementsById)||void 0===a?void 0:a.id,s.paquet_sante_intervention=null===Pe||void 0===Pe?void 0:Pe.join(),s.mecanisme_financement&&"Autres"===s.mecanisme_financement&&s.autre_mecanisme_financement&&(s.mecanisme_financement=s.autre_mecanisme_financement),s.monnaie&&"Autre"===s.monnaie&&s.autre_monnaie&&(s.monnaie=s.autre_monnaie),r=new FormData,Object.entries(De).forEach((function(e){return r.append(e[0],e[1])})),l=function(e){s[e]&&(Array.isArray(s[e])?s[e].forEach((function(t){return r.append(e+"[]",t)})):r.append(e,s[e]))},s)l(o);be.forEach((function(e){r.append("piliers[]",JSON.stringify(e))})),ve.forEach((function(e){r.append("mode_finance[]",JSON.stringify(e))})),e.storeStructure("update_investissement",r),G(),P("#editModal").modal("hide"),Ue(0),Te(0),e.initSourceFiancementList(),he([]);case 14:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"modal fade bd-example-modal-xl ",id:"editModal",tabIndex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true","data-keyboard":"false","data-backdrop":"static",children:Object(h.jsx)("div",{className:"modal-dialog modal-xl ",role:"document",children:Object(h.jsxs)("div",{className:"modal-content bg-white",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h5",{className:"modal-title",id:"editModalLabel",children:"MODIFICATION INVESTISSEMENT ANNEE \n              ".concat(null===(s=e.investissementsById)||void 0===s?void 0:s.annee," \n              ").concat(null===(n=e.investissementsById)||void 0===n||null===(i=n.structure)||void 0===i||null===(a=i.denomination)||void 0===a?void 0:a.toUpperCase())}),Object(h.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(h.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(h.jsxs)("div",{className:"modal-body",children:[Object(h.jsx)("div",{className:"bg-primary bg-opacity-10 pb-3 w-100",style:{marginTop:"-20px",width:"100vw !important"},children:Object(h.jsx)(tt.a,{steps:Q,activeStep:Re})}),Object(h.jsxs)("form",{onSubmit:q(Qe),children:[_e>=0&&Object(h.jsxs)("section",{style:{display:0===_e?"block":"none"},children:[Object(h.jsx)("div",{className:"bg-white mt-2",children:Object(h.jsxs)("div",{className:" bg-white ",children:[Object(h.jsxs)("div",{className:"row mt-2",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Ann\xe9e"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},X("annee",{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"annee",placeholder:"Ann\xe9e",defaultValue:null===(l=e.investissementsById)||void 0===l?void 0:l.annee})),J.annee&&Object(h.jsx)("p",{className:"text-danger mb-0",children:J.annee.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"monnaie",children:"Monnaie"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},X("monnaie",{required:{value:!0,message:"Veuillez choisir la monnaie"}})),{},{onChange:function(e){return ie(e.target.value)},id:"monnaie",className:"form-control",children:[Object(h.jsx)("option",{selected:"XOF"==(null===(o=e.investissementsById)||void 0===o?void 0:o.monnaie),value:"XOF",children:"XOF (CFA)"}),Object(h.jsx)("option",{selected:"EURO"==(null===(u=e.investissementsById)||void 0===u?void 0:u.monnaie),value:"EURO",children:"EURO (\u20ac)"}),Object(h.jsx)("option",{selected:"DOLLAR"==(null===(m=e.investissementsById)||void 0===m?void 0:m.monnaie),value:"DOLLAR",children:"DOLLAR ($)"}),Object(h.jsx)("option",{selected:"Autre"==(null===(p=e.investissementsById)||void 0===p?void 0:p.monnaie),value:"Autre",children:"Autre"})]}))]}),"Autre"===ne&&Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-3",children:[Object(h.jsx)("label",{htmlFor:"annee",children:"Pr\xe9ciser la monnaie"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},X("autre_monnaie")),{},Object(Oe.a)({placeholder:"Pr\xe9ciser la monnaie"},"placeholder","")))]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Les dimensions du financement"}),Object(h.jsxs)("div",{className:"row bg-white mx-1 px-2 d-flex flex-row",children:[Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},X("mobilisation_ressource")),{},{value:"1",type:"checkbox",id:"mobilisation_ressource",defaultChecked:null===(x=e.investissementsById)||void 0===x||null===(v=x.structure)||void 0===v?void 0:v.mobilisation_ressource})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"inlineCheckbox1",children:"Mobilisation des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-4 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},X("mis_en_commun_ressource")),{},{defaultChecked:null===(f=e.investissementsById)||void 0===f?void 0:f.structure.mis_en_commun_ressource,type:"checkbox",id:"mis_en_commun_ressource"})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"mis_en_commun_ressource",children:"Mis en commun des ressources"})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)({className:"form-check mr-2 big-checkbox"},X("achat_service")),{},{onChange:function(e){Le(e.target.checked)},value:"1",type:"checkbox",id:"achat_service",defaultChecked:null===(g=e.investissementsById)||void 0===g?void 0:g.structure.achat_service})),Object(h.jsx)("label",{className:"form-check-label",htmlFor:"achat_service",children:"Achat de services"})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:" bg-white pb-2",children:[Object(h.jsxs)("div",{className:"d-flex flex-wrap mx-1 pt-2 w-100",children:[Object(h.jsxs)("div",{className:"input-group mb-1 col-md-6",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-primary bg-opacity-75 text-white",children:"Subvention"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},X("subvention")),{},{onChange:Ye(0),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la subvention",defaultValue:null===(N=e.investissementsById)||void 0===N||null===(E=N.mode_financement)||void 0===E||null===(_=E.find((function(e){return"Subvention"==e.libelle})))||void 0===_?void 0:_.montant}))]}),Object(h.jsxs)("div",{className:"input-group mb-1 col-md-6",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-primary bg-opacity-75 text-white",children:"Transfert"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},X("transfert")),{},{onChange:Ye(1),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du transfert",defaultValue:null===(S=e.investissementsById)||void 0===S||null===(y=S.mode_financement)||void 0===y||null===(C=y.find((function(e){return"Transfert"==e.libelle})))||void 0===C?void 0:C.montant}))]}),Object(h.jsxs)("div",{className:"input-group mb-1 col-md-6",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-primary bg-opacity-75 text-white",children:"Recette"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},X("recette")),{},{onChange:Ye(2),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant de la recette",defaultValue:null===(T=e.investissementsById)||void 0===T||null===(I=T.mode_financement)||void 0===I||null===(w=I.find((function(e){return"Recette"==e.libelle})))||void 0===w?void 0:w.montant}))]}),Object(h.jsxs)("div",{className:"input-group mb-1 col-md-6",children:[Object(h.jsx)("div",{className:"input-group-prepend ",children:Object(h.jsx)("span",{className:"input-group-text bg-primary bg-opacity-75 text-white",children:"Don"})}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number"},X("don")),{},{onChange:Ye(3),className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Le montant du don",defaultValue:null===(R=e.investissementsById)||void 0===R||null===(U=R.mode_financement)||void 0===U||null===(F=U.find((function(e){return"Don"==e.libelle})))||void 0===F?void 0:F.montant}))]})]}),Object(h.jsxs)("div",{className:"form-check form-check-inline col-md-3 d-flex",children:[Object(h.jsx)("input",{className:"form-check mr-2 big-checkbox",onChange:function(e){e.target.checked?qe(!0):qe(!1),e.target.checked?oe(!0):oe(!1),!e.target.checked&&Y("autre_mode_montant"),!e.target.checked&&Y("autre_mode_libelle")},value:"1",type:"checkbox",defaultChecked:le}),Object(h.jsx)("label",{className:"form-check-label",children:"Autre"})]}),le&&Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_libelle",children:"Libell\xe9 du mode de financement"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"text",className:"form-control"},X("autre_mode_libelle")),{},{onChange:(ze=4,function(e){"undefined"===typeof ve[ze]&&(ve[ze]={id:null,libelle:e.target.value},Object.keys(ve).forEach((function(e){void 0===ve[e]&&delete ve[e]})),ge(Object(fe.a)(ve)));var t=ve[ze];t.libelle=e.target.value,ve[ze]=t,Object.keys(ve).forEach((function(e){void 0===ve[e]&&delete ve[e]})),ge(Object(fe.a)(ve))}),placeholder:"Pr\xe9ciser le mode de fiancement",defaultValue:null===(L=e.investissementsById)||void 0===L||null===(M=L.mode_financement)||void 0===M||null===(k=M.filter((function(e){return"Subvention"!==e.libelle&&"Recette"!==e.libelle&&"Don"!==e.libelle&&"Transfert"!==e.libelle}))[0])||void 0===k?void 0:k.libelle})),J.autre_mode_libelle&&Object(h.jsx)("p",{className:"text-danger mb-0",children:J.autre_mode_libelle.message})]}),Object(h.jsxs)("div",{className:"form-group input-group-sm col-md-6",children:[Object(h.jsx)("label",{htmlFor:"autre_mode_motant",children:"Montant"}),Object(h.jsx)("input",Object(r.a)(Object(r.a)({type:"number",className:"form-control"},X("autre_mode_montant")),{},{onChange:Ye(4),placeholder:"Le montant",defaultValue:null===(D=e.investissementsById)||void 0===D||null===(V=D.mode_financement)||void 0===V||null===(B=V.filter((function(e){return"Subvention"!==e.libelle&&"Recette"!==e.libelle&&"Don"!==e.libelle&&"Transfert"!==e.libelle}))[0])||void 0===B?void 0:B.montant})),J.autre_mode_montant&&Object(h.jsx)("p",{className:"text-danger mb-0",children:J.autre_mode_montant.message})]})]})]})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border mb-5",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Piliers et axes d'intervention"}),null===be||void 0===be?void 0:be.map((function(e,t){var s;return Object(h.jsxs)("div",{className:"d-flex no-gutters border m-1",children:[Object(h.jsx)("div",{className:"col-md-2 px-1 pb-3",style:{margin:"auto"},children:Object(h.jsxs)("div",{className:"form-group mb-4",children:[Object(h.jsx)("label",{htmlFor:"pilier",children:"Pilier"}),Object(h.jsxs)("select",Object(r.a)(Object(r.a)({},X("pilier_".concat(t),{required:{value:!0,message:"Veuillez saisir l'ann\xe9e"}})),{},{id:"pilier",onChange:Ke(t),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),Object.keys(Ce).map((function(t){return Object(h.jsx)("option",{selected:e.pilier==t,value:t,children:t},t)}))]}))]})}),Object(h.jsxs)("div",{className:"col-md-9  border-right border-left",children:[null===e||void 0===e||null===(s=e.axe)||void 0===s?void 0:s.map((function(s,c){var n,i,a;return Object(h.jsxs)("div",{className:"d-flex no-gutters border-bottom ",children:[Object(h.jsx)("div",{className:"col-md-3 mx-1",style:{margin:"auto"},children:Object(h.jsxs)("div",{className:"form-group mx-auto",children:[Object(h.jsx)("label",{htmlFor:"libelle",children:"Axe"}),Object(h.jsxs)("select",{name:"libelle",id:"libelle",onChange:(i=t,a=c,function(e){var t=be[i];t.axe[a][e.target.name]=e.target.value,be[i]=t,he(Object(fe.a)(be))}),className:"form-control form-control-sm",children:[Object(h.jsx)("option",{children:"Choisir..."}),null===(n=Ce[e.pilier])||void 0===n?void 0:n.map((function(e){return Object(h.jsx)("option",{selected:s.libelle===e[1],value:e[1],children:e[1]},e[c])}))]})]})}),Object(h.jsxs)("div",{className:"row col-md-8 mx-auto",children:[Object(h.jsxs)("div",{className:"col-md-6 mt-1 bg-primary bg-opacity-75",children:[Object(h.jsx)("label",{className:"text-white",children:"Biens et Services"}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{onChange:Ze(t,c,"bien_et_service","montant_prevu"),type:"number",className:"form-control form-control-sm w-20","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant pr\xe9vu",defaultValue:s.bien_et_service.montant_prevu})}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"bien_et_service","montant_mobilise"),className:"form-control form-control-sm","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant mobilis\xe9",defaultValue:s.bien_et_service.montant_mobilise})}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"bien_et_service","montant_execute"),className:"form-control form-control-sm","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant ex\xe9cut\xe9",defaultValue:s.bien_et_service.montant_execute})})]}),Object(h.jsxs)("div",{className:"col-md-6 mt-1 border-left bg-primary bg-opacity-75 border-right",children:[Object(h.jsx)("label",{className:"text-white",children:"Investissements"}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_prevu"),className:"form-control form-control-sm","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant pr\xe9vu",defaultValue:s.investissement.montant_prevu})}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_mobilise"),className:"form-control form-control-sm","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant mobilis\xe9",defaultValue:s.investissement.montant_mobilise})}),Object(h.jsx)("div",{className:"form-group input-group-sm mb-1",children:Object(h.jsx)("input",{type:"number",onChange:Ze(t,c,"investissement","montant_execute"),className:"form-control form-control-sm","aria-label":"Dollar amount (with dot and two decimal places)",placeholder:"Montant ex\xe9cut\xe9",defaultValue:s.investissement.montant_execute})})]})]}),Object(h.jsx)("div",{className:"form-group col-md-1  mx-auto my-auto ",children:Object(h.jsx)("button",{type:"button",className:"btn btn-sm",onClick:function(){return function(e,t){var s=be[e],c=s.axe[t].id,n=s.axe[t].libelle;return A("investissements/pilier/axe",c,n).then((function(c){!0===c&&(s.axe.splice(t,1),be[e]=s,he(Object(fe.a)(be)))}))}(t,c)},children:Object(h.jsx)(b.a,{className:"mr-2",icon:j.o,size:"lg",color:"red",role:"button"})})})]},c)})),Object(h.jsx)("div",{style:{marginTop:"-10px"},children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-primary",onClick:function(){return function(e){var t=be[e];be[e]=t,t.axe.push({libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}),he(Object(fe.a)(be))}(t)},children:[Object(h.jsx)(b.a,{icon:j.k}),Object(h.jsx)("small",{children:"Axe d'intervention"})]})})]}),Object(h.jsx)("div",{className:"col-md-1 ",style:{margin:"auto"},onClick:function(){return function(e){var t=be[e];return A("investissements/pilier",t.id,t.pilier).then((function(t){!0===t&&(be.splice(e,1),he(Object(fe.a)(be)))}))}(t)},children:Object(h.jsx)("button",{type:"button",className:"btn",children:Object(h.jsx)(b.a,{icon:j.o,size:"lg",color:"red"})})})]},t)})),Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("button",{type:"button",className:"btn btn-sm text-primary",onClick:function(){he((function(e){return[].concat(Object(fe.a)(e),[{id:null,pilier:"",axe:[{libelle:"",investissement:{montant_prevu:"",montant_mobilise:"",montant_execute:""},bien_et_service:{montant_prevu:"",montant_mobilise:"",montant_execute:""}}]}])}))},children:[Object(h.jsx)(b.a,{icon:j.k}),Object(h.jsx)("small",{children:"Pilier"})]})})]})]})}),Object(h.jsxs)("div",{className:" mt-2 float-right",children:[Je(),Object(h.jsxs)("button",{onClick:Ge,type:"button",className:"btn btn-primary",children:["Suivant",Object(h.jsx)(b.a,{className:"ml-2",icon:j.b,size:"lg",role:"button"})]})]})]}),_e>=1&&Object(h.jsxs)("section",{style:{display:1===_e?"block":"none"},children:[Object(h.jsxs)("div",{className:" bg-white row border mx-1 mt-3 p-3",children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Ann\xe9e"})," : ",z().annee]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Monnaie"})," : ",z().monnaie]})}),Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"dimentions"})," :"," ",z().mobilisation_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mobilisation"}),z().achat_service&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Achat service"}),z().mis_en_commun_ressource&&Object(h.jsx)("span",{className:"badge badge-primary mr-1",children:"Mis en commun"})]})})]}),Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Mode de financement"}),Object(h.jsxs)("div",{className:"row",children:[z().subvention&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Subvention"})," :"," ",z().subvention]})}),z().transfert&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Transfert"})," :"," ",z().transfert]})}),z().recette&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Recette"})," : ",z().recette]})}),z().don&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:"Don"})," : ",z().don]})}),z().autre_mode_montant&&Object(h.jsx)("div",{className:" col-md-6 my-1",children:Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:z().autre_mode_libelle})," ",": ",z().autre_mode_montant]})})]})]}),null===be||void 0===be?void 0:be.map((function(e,t){return Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Pilier : ".concat(e.pilier)}),Object(h.jsx)("div",{className:"row mx-1 mb-3 mr-1",children:null===e||void 0===e?void 0:e.axe.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-6",children:Object(h.jsxs)("fieldset",{className:"scheduler-border border",children:[Object(h.jsx)("legend",{className:"scheduler-border text-muted",children:"Axe:  ".concat(e.libelle)}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("p",{className:"text-muted",children:"Biens et services"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.bien_et_service.montant_execute})]})]})]}),Object(h.jsxs)("div",{className:"col-md-6 border-left",children:[Object(h.jsx)("p",{className:"text-muted",children:"Investissements"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Montant pr\xe9vu :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_prevu})]}),Object(h.jsxs)("p",{children:["Montant mobilis\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_mobilise})]}),Object(h.jsxs)("p",{children:["Montant ex\xe9cut\xe9 :"," ",Object(h.jsx)("span",{className:"bold",children:e.investissement.montant_execute})]})]})]})]})]},t)})}))})]},t)}))]}),Object(h.jsxs)("div",{className:"modal-footer mt-2 d-flex justify-content-between",children:[Je(),Object(h.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[Object(h.jsx)("i",{className:"mdi mdi-check mdi-18px text-white align-left"}),"Enregistrer"]})]})]})]})]})]})})})})),sc=["structures","getCurrentStructure","history","currentUser","investissementData","investissements","investissementsById","fetchInvestissementById","isLoading"];function cc(e){var t=e.structures,s=(e.getCurrentStructure,e.history),i=e.currentUser,a=(e.investissementData,e.investissements),o=e.investissementsById,d=e.fetchInvestissementById,u=e.isLoading,m=Object(l.a)(e,sc),p=Object(c.useState)([{name:"Senegal"},{name:"Mali"},{name:"Gambi"},{name:"Etc.."}]),x=Object(O.a)(p,2),v=(x[0],x[1],Object(c.useState)(1)),g=Object(O.a)(v,2),N=g[0],E=g[1],_=n.a.useMemo((function(){var e=8*(N-1),t=e+8;return null===a||void 0===a?void 0:a.slice(e,t)}),[N,a]);Object(c.useEffect)((function(){e.investissementData(),e.initCollectiviteList()}),[]);return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{class:"content Title",children:[Object(h.jsx)("div",{class:"container-fluid bg-title",children:Object(h.jsx)("div",{class:"page-title d-flex align-items-center justify-content-between",children:Object(h.jsxs)("h3",{children:[Object(h.jsx)(b.a,{icon:j.g,className:"mr-1 mb-1"}),"GESTION DES INVESTISSEMENTS"]})})}),Object(h.jsx)("div",{class:"container-fluid dash-content",children:Object(h.jsx)("div",{class:"row mb-4",children:Object(h.jsxs)("div",{class:"col-md-12 col-lg-12",children:[Object(h.jsx)(tc,Object(r.a)(Object(r.a)({},m),{},{currentUser:i,investissementsById:o,isLoading:u})),Object(h.jsxs)("div",{class:"card",children:[Object(h.jsx)("div",{class:"card-header",children:Object(h.jsx)("h5",{class:"mb-0",children:"Liste des investissements"})}),Object(h.jsxs)("div",{class:"card-body",children:[Object(h.jsx)("p",{class:"card-title"}),e.isLoading?Object(h.jsx)("div",{className:"",children:Object(h.jsx)(f.a,{count:7,height:"40px"})}):Object(h.jsxs)("table",{class:"table table-hover table-sm table-bordered tab-beneficiaires",width:"100%",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"LOGO"}),Object(h.jsx)("th",{children:"ANNEE"}),Object(h.jsx)("th",{children:"SOURCE FINANCEMENT"}),Object(h.jsx)("th",{children:"ACTIONS"})]})}),Object(h.jsx)("tbody",{children:null===_||void 0===_?void 0:_.map((function(e){var t;return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[" ",Object(h.jsxs)("div",{class:"benef",children:[Object(h.jsx)("span",{class:"avatar-benef",children:Object(h.jsx)("img",{src:"/assets/admin/images/avatar.jpg",alt:""})}),Object(h.jsx)("span",{class:"nom-benef",children:e.structure.denomination})]})]}),Object(h.jsx)("td",{children:null===e||void 0===e?void 0:e.annee}),Object(h.jsx)("td",{children:null===(t=e.structure)||void 0===t?void 0:t.source_financement}),Object(h.jsx)("td",{children:Object(h.jsxs)("span",{children:[Object(h.jsx)(b.a,{className:"mr-2",icon:j.h,color:"grey",role:"button",onClick:function(){return s.push("/admin/investissements/".concat(e.id))}}),Object(h.jsx)(b.a,{className:"mr-2",icon:j.j,color:"grey",role:"button","data-toggle":"modal","data-target":"#editModal",onClick:function(){return t=e.id,void d(t);var t}})]})})]})}))})]})]})]}),Object(h.jsx)(Ee,{className:"pagination-bar mt-2 float-right mr-4",currentPage:N,totalCount:t.length,pageSize:8,onPageChange:function(e){return E(e)}})]})})})]})})}var nc=Object(v.b)({structures:Q,investissements:xt,collectiviteList:le,isLoading:te,investissementsById:ft}),ic=Object(x.b)(nc,(function(e){return{investissementData:function(){return e(mt())},initCollectiviteList:function(){return e(be())},fetchInvestissementById:function(t){return e(bt(t))}}}))(n.a.memo(cc)),ac=["component"],rc=Object(c.lazy)((function(){return s.e(5).then(s.bind(null,333))})),lc=Object(c.lazy)((function(){return s.e(4).then(s.bind(null,336))})),oc=Object(c.lazy)((function(){return s.e(3).then(s.bind(null,335))}));var dc=function(){var e=function(e){var t=e.component,s=Object(l.a)(e,ac);return Object(h.jsx)(o.a,Object(r.a)(Object(r.a)({},s),{},{render:function(e){return Object(h.jsx)(Kt,{children:Object(h.jsx)(t,Object(r.a)({},e))})}}))};return Object(h.jsxs)(o.c,{children:[Object(h.jsx)(e,{exact:!0,path:"/admin/dashboard",component:p}),Object(h.jsx)(e,{exact:!0,path:"/admin/structures",component:We}),Object(h.jsx)(e,{exact:!0,path:"/admin/investissements",component:ic}),Object(h.jsx)(e,{exact:!0,path:"/admin/structures/prive",component:Mt}),Object(h.jsx)(e,{exact:!0,path:"/admin/structures/rse",component:Ws}),Object(h.jsx)(e,{exact:!0,path:"/admin/source_financement",component:ss}),Object(h.jsx)(e,{exact:!0,path:"/admin/utilisateurs",component:vs}),Object(h.jsx)(e,{exact:!0,path:"/admin/utilisateurs/profile",component:gs}),Object(h.jsx)(e,{exact:!0,path:"/admin/roles",component:ys}),Object(h.jsx)(e,{exact:!0,path:"/admin/districtes",component:Ps}),Object(h.jsx)(e,{exact:!0,path:"/admin/structures/:1",component:Xs}),Object(h.jsx)(e,{exact:!0,path:"/acteur/investissements/:id",component:Gs}),Object(h.jsx)(e,{exact:!0,path:"/admin/investissements/:id",component:zs}),Object(h.jsxs)(c.Suspense,{fallback:Object(h.jsx)("div",{className:"loader",children:"Loading..."}),children:[Object(h.jsx)(o.a,{exact:!0,path:"/sign-up",component:rc}),Object(h.jsx)(o.a,{exact:!0,path:"/sign-in",component:qt}),Object(h.jsx)(o.a,{exact:!0,path:"/",component:lc}),Object(h.jsx)(o.a,{exact:!0,path:"/mobilisation",component:oc})]})]})},uc=function(e){e&&e instanceof Function&&s.e(6).then(s.bind(null,334)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),i(e),a(e)}))},jc=s(55),mc=(s(322),{currentUser:null,listUsers:[],isFetching:!1,messageError:void 0,userById:null}),bc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt.FETCH_USER_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case gt.FETCH_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,listUsers:t.payload});case gt.FETCH_USER_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case gt.FETCH_CURRENT_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,currentUser:t.payload});case gt.STORE_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,listUsers:[].concat(Object(fe.a)(e.listUsers),[t.payload])});case gt.UPDATE_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case gt.UPDATE_CURRENT_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,currentUser:t.payload});case gt.REMOVE_USER_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,listUsers:Object(fe.a)(e.listUsers.filter((function(e){return e.id!==t.payload})))});case gt.FETCH_USER_BY_ID:case gt.ACTIVE_STATUS_USER:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,userById:t.payload});case gt.RESET_EDITED_USER:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,userById:null});default:return e}},hc={structures:[],structureById:null,typeActeur:null,currentStructure:null,isFetching:!1,messageError:void 0},pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.FETCH_STRUCTURE_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case B.FETCH_STRUCTURE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structures:t.payload});case B.FETCH_STRUCTURE_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case B.STORE_STRUCTURE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structures:[].concat(Object(fe.a)(e.structures),[t.payload])});case B.UPDATE_STRUCTURE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{structures:Object(fe.a)(e.structures.filter((function(e){return e.id!==t.payload}))),isFetching:!1});case B.REMOVE_STRUCTURE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structures:Object(fe.a)(e.structures)});case B.FETCH_STRUCTURE_BY_ID:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structureById:t.payload});case B.FETCH_STRUCTURE_BY_TYPE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structures:t.payload});case B.RESET_EDITED_STRUCTURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,structureById:null});default:return e}},Oc={sourceFinancements:[],sourceFinancementById:null,acteurtField:1,isFetching:!1,messageError:void 0},xc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve.FETCH_SOURCE_FINANCEMENT_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case Ve.FETCH_SOURCE_FINANCEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,sourceFinancements:t.payload});case Ve.FETCH_SOURCE_FINANCEMENT_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case Ve.STORE_SOURCE_FINANCEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,sourceFinancements:[].concat(Object(fe.a)(e.sourceFinancements),[t.payload])});case Ve.UPDATE_SOURCE_FINANCEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case Ve.REMOVE_SOURCE_FINANCEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,sourceFinancements:Object(fe.a)(e.sourceFinancements.filter((function(e){return e.id!==t.payload})))});case Ve.FETCH_SOURCE_FINANCEMENT_BY_ID:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,sourceFinancementById:t.payload});case Ve.ADD_ACCTEUR_FIELD:return Object(r.a)(Object(r.a)({},e),{},{acteurtField:e.acteurtField+1});case Ve.REMOVE_ACCTEUR_FIELD:return Object(r.a)(Object(r.a)({},e),{},{acteurtField:e.acteurtField-1});case Ve.RESET_EDITED_SOURCE_FINANCEMENT:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,sourceFinancementById:null});default:return e}},vc={roles:[],permissions:[],isFetching:!1,messageError:void 0,roleById:null},fc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ns.FETCH_ROLE_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case ns.FETCH_ROLE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,roles:t.payload});case ns.FETCH_ROLE_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case ns.STORE_ROLE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,roles:[].concat(Object(fe.a)(e.roles),[t.payload])});case ns.UPDATE_ROLE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case ns.REMOVE_ROLE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,roles:Object(fe.a)(e.roles.filter((function(e){return e.id!==t.payload})))});case ns.FETCH_ROLE_BY_ID:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,roleById:t.payload});case ns.FETCH_PERMISSION_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,permissions:t.payload});case ns.RESET_EDITED_ROLE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,roleById:null});default:return e}},gc={districtes:[],isFetching:!1,messageError:void 0,districteById:null},Nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ts.FETCH_DISTRICTE_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case Ts.FETCH_DISTRICTE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,districtes:t.payload});case Ts.FETCH_DISTRICTE_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case Ts.STORE_DISTRICTE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,districtes:[].concat(Object(fe.a)(e.districtes),[t.payload])});case Ts.UPDATE_DISTRICTE_SUCCESS:case Ts.REMOVE_DISTRICTE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case Ts.FETCH_DISTRICTE_BY_ID:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,districteById:t.payload});case Ts.RESET_EDITED_DISTRICTE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,districteById:null});default:return e}},Ec={collectivites:[],regions:[],isFetching:!1,messageError:void 0,collectiviteById:null,collectiviteByParentCode:null},_c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.FETCH_COLLECTIVITE_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case ue.FETCH_COLLECTIVITE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectivites:t.payload});case ue.FETCH_REGION_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,regions:t.payload});case ue.FETCH_COLLECTIVITE_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case ue.STORE_COLLECTIVITE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectivites:[].concat(Object(fe.a)(e.collectivites),[t.payload])});case ue.UPDATE_COLLECTIVITE_SUCCESS:case ue.REMOVE_COLLECTIVITE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case ue.FETCH_COLLECTIVITE_BY_ID:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectiviteById:t.payload});case ue.FETCH_COLLECTIVITE_BY_PARENT_CODE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectiviteByParentCode:t.payload});case ue.RESET_EDITED_COLLECTIVITE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectiviteById:null});case ue.RESET_COLLECTIVITE_BY_CODE_PARENT:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,collectiviteByParentCode:null});default:return e}},Sc={investissementsByStructure:[],investissements:[],isFetching:!1,messageError:void 0,investissementById:null},yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot.FETCH_INVESTISSEMENT_START:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case ot.FETCH_INVESTISSEMENT_BY_STRUCTURE_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,investissementsByStructure:t.payload});case ot.FETCH_INVESTISSEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,investissements:t.payload});case ot.FETCH_INVESTISSEMENT_FAILLURE:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,messageError:t.payload});case ot.STORE_INVESTISSEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,investissementsByStructure:[].concat(Object(fe.a)(e.investissementsByStructure),[t.payload])});case ot.UPDATE_INVESTISSEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{investissementsByStructure:Object(fe.a)(e.investissementsByStructure.filter((function(e){return e.id!==t.payload}))),isFetching:!1});case ot.REMOVE_INVESTISSEMENT_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,investissementsByStructure:Object(fe.a)(e.investissementsByStructure.filter((function(e){return e.id!==t.payload})))});case ot.FETCH_INVESTISSEMENT_BY_ID_SUCCESS:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,investissementById:t.payload});default:return e}},Cc=Object(jc.b)({user:bc,structure:pc,role:fc,investissement:yc,sourceFinancements:xc,districte:Nc,collectivite:_c}),Tc=[s(144).a];var Ic=Object(jc.c)(Cc,jc.a.apply(void 0,Tc));a.a.render(Object(h.jsx)(x.a,{store:Ic,children:Object(h.jsx)(zt.a,{children:Object(h.jsx)(dc,{})})}),document.getElementById("root")),uc()},49:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var c,n,i,a=s(1),r=["title","titleId"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var s,c,n=function(e,t){if(null==e)return{};var s,c,n={},i=Object.keys(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function d(e,t){var s=e.title,d=e.titleId,u=o(e,r);return a.createElement("svg",l({id:"linkedin",xmlns:"http://www.w3.org/2000/svg",width:15.652,height:15.653,viewBox:"0 0 15.652 15.653",ref:t,"aria-labelledby":d},u),s?a.createElement("title",{id:d},s):null,c||(c=a.createElement("path",{id:"Trac\\xE9_2248","data-name":"Trac\\xE9 2248",d:"M18.6,18.287h0V12.546c0-2.808-.6-4.972-3.888-4.972a3.408,3.408,0,0,0-3.07,1.687H11.6V7.836H8.489v10.45H11.73V13.112c0-1.362.258-2.68,1.945-2.68,1.662,0,1.687,1.555,1.687,2.767v5.088Z",transform:"translate(-2.953 -2.634)",fill:"#fff"})),n||(n=a.createElement("path",{id:"Trac\\xE9_2249","data-name":"Trac\\xE9 2249",d:"M.4,7.977H3.641v10.45H.4Z",transform:"translate(-0.138 -2.774)",fill:"#fff"})),i||(i=a.createElement("path",{id:"Trac\\xE9_2250","data-name":"Trac\\xE9 2250",d:"M1.88,0a1.888,1.888,0,1,0,1.88,1.88A1.88,1.88,0,0,0,1.88,0Z",fill:"#fff"})))}var u=a.forwardRef(d);s.p},50:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var c,n=s(1),i=["title","titleId"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var s,c,n=function(e,t){if(null==e)return{};var s,c,n={},i=Object.keys(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l(e,t){var s=e.title,l=e.titleId,o=r(e,i);return n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:17.595,height:14.297,viewBox:"0 0 17.595 14.297",ref:t,"aria-labelledby":l},o),s?n.createElement("title",{id:l},s):null,c||(c=n.createElement("g",{id:"twitter",transform:"translate(0)"},n.createElement("g",{id:"Groupe_1873","data-name":"Groupe 1873",transform:"translate(0 0)"},n.createElement("path",{id:"Trac\\xE9_2247","data-name":"Trac\\xE9 2247",d:"M17.6,49.693a7.52,7.52,0,0,1-2.078.57A3.587,3.587,0,0,0,17.1,48.268a7.209,7.209,0,0,1-2.287.873,3.607,3.607,0,0,0-6.24,2.467,3.715,3.715,0,0,0,.084.823,10.21,10.21,0,0,1-7.435-3.773,3.608,3.608,0,0,0,1.108,4.821A3.562,3.562,0,0,1,.7,53.035v.04a3.624,3.624,0,0,0,2.89,3.544,3.6,3.6,0,0,1-.946.119,3.189,3.189,0,0,1-.683-.062,3.641,3.641,0,0,0,3.371,2.513A7.248,7.248,0,0,1,.863,60.727,6.755,6.755,0,0,1,0,60.678,10.155,10.155,0,0,0,5.534,62.3,10.2,10.2,0,0,0,15.8,52.032c0-.159-.005-.313-.013-.466A7.2,7.2,0,0,0,17.6,49.693Z",transform:"translate(0 -48)",fill:"#fff"})))))}var o=n.forwardRef(l);s.p},51:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var c,n=s(1),i=["title","titleId"];function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var s,c,n=function(e,t){if(null==e)return{};var s,c,n={},i=Object.keys(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)s=i[c],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function l(e,t){var s=e.title,l=e.titleId,o=r(e,i);return n.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:15.375,height:15.376,viewBox:"0 0 15.375 15.376",ref:t,"aria-labelledby":l},o),s?n.createElement("title",{id:l},s):null,c||(c=n.createElement("g",{id:"facebook",transform:"translate(0 0.001)"},n.createElement("g",{id:"Groupe_1872","data-name":"Groupe 1872",transform:"translate(0 -0.001)"},n.createElement("path",{id:"Trac\\xE9_2246","data-name":"Trac\\xE9 2246",d:"M13.453,0H1.922A1.924,1.924,0,0,0,0,1.922V13.454a1.924,1.924,0,0,0,1.922,1.922H7.688V10.09H5.766v-2.4H7.688V5.766A2.883,2.883,0,0,1,10.57,2.883h1.922v2.4h-.961c-.53,0-.961-.05-.961.48V7.688h2.4l-.961,2.4H10.57v5.285h2.883a1.924,1.924,0,0,0,1.922-1.922V1.922A1.924,1.924,0,0,0,13.453,0Z",fill:"#fff"})))))}var o=n.forwardRef(l);s.p},91:function(e,t,s){},95:function(e,t,s){"use strict";var c=s(2),n=s(20),i=(s(1),s(311),s(0)),a=["handleChange","label"];t.a=function(e){var t=e.handleChange,s=e.label,r=Object(n.a)(e,a);return Object(i.jsxs)("div",{className:"group",children:[Object(i.jsx)("input",Object(c.a)(Object(c.a)({className:"form-input",type:"text"},r),{},{onChange:t})),s?Object(i.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label"),children:s}):null]})}}},[[323,1,2]]]);
//# sourceMappingURL=main.31991145.chunk.js.map